{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RecognizerApi = void 0;\n\nconst values_1 = __importDefault(require(\"lodash/values\"));\n\nconst includes_1 = __importDefault(require(\"lodash/includes\"));\n\nconst exceptions_public_1 = require(\"../../exceptions_public\");\n\nconst parser_1 = require(\"../parser\");\n\nconst errors_public_1 = require(\"../../errors_public\");\n\nconst checks_1 = require(\"../../grammar/checks\");\n\nconst gast_1 = require(\"@chevrotain/gast\");\n/**\n * This trait is responsible for implementing the public API\n * for defining Chevrotain parsers, i.e:\n * - CONSUME\n * - RULE\n * - OPTION\n * - ...\n */\n\n\nclass RecognizerApi {\n  ACTION(impl) {\n    return impl.call(this);\n  }\n\n  consume(idx, tokType, options) {\n    return this.consumeInternal(tokType, idx, options);\n  }\n\n  subrule(idx, ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, idx, options);\n  }\n\n  option(idx, actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, idx);\n  }\n\n  or(idx, altsOrOpts) {\n    return this.orInternal(altsOrOpts, idx);\n  }\n\n  many(idx, actionORMethodDef) {\n    return this.manyInternal(idx, actionORMethodDef);\n  }\n\n  atLeastOne(idx, actionORMethodDef) {\n    return this.atLeastOneInternal(idx, actionORMethodDef);\n  }\n\n  CONSUME(tokType, options) {\n    return this.consumeInternal(tokType, 0, options);\n  }\n\n  CONSUME1(tokType, options) {\n    return this.consumeInternal(tokType, 1, options);\n  }\n\n  CONSUME2(tokType, options) {\n    return this.consumeInternal(tokType, 2, options);\n  }\n\n  CONSUME3(tokType, options) {\n    return this.consumeInternal(tokType, 3, options);\n  }\n\n  CONSUME4(tokType, options) {\n    return this.consumeInternal(tokType, 4, options);\n  }\n\n  CONSUME5(tokType, options) {\n    return this.consumeInternal(tokType, 5, options);\n  }\n\n  CONSUME6(tokType, options) {\n    return this.consumeInternal(tokType, 6, options);\n  }\n\n  CONSUME7(tokType, options) {\n    return this.consumeInternal(tokType, 7, options);\n  }\n\n  CONSUME8(tokType, options) {\n    return this.consumeInternal(tokType, 8, options);\n  }\n\n  CONSUME9(tokType, options) {\n    return this.consumeInternal(tokType, 9, options);\n  }\n\n  SUBRULE(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 0, options);\n  }\n\n  SUBRULE1(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 1, options);\n  }\n\n  SUBRULE2(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 2, options);\n  }\n\n  SUBRULE3(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 3, options);\n  }\n\n  SUBRULE4(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 4, options);\n  }\n\n  SUBRULE5(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 5, options);\n  }\n\n  SUBRULE6(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 6, options);\n  }\n\n  SUBRULE7(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 7, options);\n  }\n\n  SUBRULE8(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 8, options);\n  }\n\n  SUBRULE9(ruleToCall, options) {\n    return this.subruleInternal(ruleToCall, 9, options);\n  }\n\n  OPTION(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 0);\n  }\n\n  OPTION1(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 1);\n  }\n\n  OPTION2(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 2);\n  }\n\n  OPTION3(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 3);\n  }\n\n  OPTION4(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 4);\n  }\n\n  OPTION5(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 5);\n  }\n\n  OPTION6(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 6);\n  }\n\n  OPTION7(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 7);\n  }\n\n  OPTION8(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 8);\n  }\n\n  OPTION9(actionORMethodDef) {\n    return this.optionInternal(actionORMethodDef, 9);\n  }\n\n  OR(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 0);\n  }\n\n  OR1(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 1);\n  }\n\n  OR2(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 2);\n  }\n\n  OR3(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 3);\n  }\n\n  OR4(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 4);\n  }\n\n  OR5(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 5);\n  }\n\n  OR6(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 6);\n  }\n\n  OR7(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 7);\n  }\n\n  OR8(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 8);\n  }\n\n  OR9(altsOrOpts) {\n    return this.orInternal(altsOrOpts, 9);\n  }\n\n  MANY(actionORMethodDef) {\n    this.manyInternal(0, actionORMethodDef);\n  }\n\n  MANY1(actionORMethodDef) {\n    this.manyInternal(1, actionORMethodDef);\n  }\n\n  MANY2(actionORMethodDef) {\n    this.manyInternal(2, actionORMethodDef);\n  }\n\n  MANY3(actionORMethodDef) {\n    this.manyInternal(3, actionORMethodDef);\n  }\n\n  MANY4(actionORMethodDef) {\n    this.manyInternal(4, actionORMethodDef);\n  }\n\n  MANY5(actionORMethodDef) {\n    this.manyInternal(5, actionORMethodDef);\n  }\n\n  MANY6(actionORMethodDef) {\n    this.manyInternal(6, actionORMethodDef);\n  }\n\n  MANY7(actionORMethodDef) {\n    this.manyInternal(7, actionORMethodDef);\n  }\n\n  MANY8(actionORMethodDef) {\n    this.manyInternal(8, actionORMethodDef);\n  }\n\n  MANY9(actionORMethodDef) {\n    this.manyInternal(9, actionORMethodDef);\n  }\n\n  MANY_SEP(options) {\n    this.manySepFirstInternal(0, options);\n  }\n\n  MANY_SEP1(options) {\n    this.manySepFirstInternal(1, options);\n  }\n\n  MANY_SEP2(options) {\n    this.manySepFirstInternal(2, options);\n  }\n\n  MANY_SEP3(options) {\n    this.manySepFirstInternal(3, options);\n  }\n\n  MANY_SEP4(options) {\n    this.manySepFirstInternal(4, options);\n  }\n\n  MANY_SEP5(options) {\n    this.manySepFirstInternal(5, options);\n  }\n\n  MANY_SEP6(options) {\n    this.manySepFirstInternal(6, options);\n  }\n\n  MANY_SEP7(options) {\n    this.manySepFirstInternal(7, options);\n  }\n\n  MANY_SEP8(options) {\n    this.manySepFirstInternal(8, options);\n  }\n\n  MANY_SEP9(options) {\n    this.manySepFirstInternal(9, options);\n  }\n\n  AT_LEAST_ONE(actionORMethodDef) {\n    this.atLeastOneInternal(0, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE1(actionORMethodDef) {\n    return this.atLeastOneInternal(1, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE2(actionORMethodDef) {\n    this.atLeastOneInternal(2, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE3(actionORMethodDef) {\n    this.atLeastOneInternal(3, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE4(actionORMethodDef) {\n    this.atLeastOneInternal(4, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE5(actionORMethodDef) {\n    this.atLeastOneInternal(5, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE6(actionORMethodDef) {\n    this.atLeastOneInternal(6, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE7(actionORMethodDef) {\n    this.atLeastOneInternal(7, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE8(actionORMethodDef) {\n    this.atLeastOneInternal(8, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE9(actionORMethodDef) {\n    this.atLeastOneInternal(9, actionORMethodDef);\n  }\n\n  AT_LEAST_ONE_SEP(options) {\n    this.atLeastOneSepFirstInternal(0, options);\n  }\n\n  AT_LEAST_ONE_SEP1(options) {\n    this.atLeastOneSepFirstInternal(1, options);\n  }\n\n  AT_LEAST_ONE_SEP2(options) {\n    this.atLeastOneSepFirstInternal(2, options);\n  }\n\n  AT_LEAST_ONE_SEP3(options) {\n    this.atLeastOneSepFirstInternal(3, options);\n  }\n\n  AT_LEAST_ONE_SEP4(options) {\n    this.atLeastOneSepFirstInternal(4, options);\n  }\n\n  AT_LEAST_ONE_SEP5(options) {\n    this.atLeastOneSepFirstInternal(5, options);\n  }\n\n  AT_LEAST_ONE_SEP6(options) {\n    this.atLeastOneSepFirstInternal(6, options);\n  }\n\n  AT_LEAST_ONE_SEP7(options) {\n    this.atLeastOneSepFirstInternal(7, options);\n  }\n\n  AT_LEAST_ONE_SEP8(options) {\n    this.atLeastOneSepFirstInternal(8, options);\n  }\n\n  AT_LEAST_ONE_SEP9(options) {\n    this.atLeastOneSepFirstInternal(9, options);\n  }\n\n  RULE(name, implementation, config = parser_1.DEFAULT_RULE_CONFIG) {\n    if ((0, includes_1.default)(this.definedRulesNames, name)) {\n      const errMsg = errors_public_1.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({\n        topLevelRule: name,\n        grammarName: this.className\n      });\n      const error = {\n        message: errMsg,\n        type: parser_1.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,\n        ruleName: name\n      };\n      this.definitionErrors.push(error);\n    }\n\n    this.definedRulesNames.push(name);\n    const ruleImplementation = this.defineRule(name, implementation, config);\n    this[name] = ruleImplementation;\n    return ruleImplementation;\n  }\n\n  OVERRIDE_RULE(name, impl, config = parser_1.DEFAULT_RULE_CONFIG) {\n    const ruleErrors = (0, checks_1.validateRuleIsOverridden)(name, this.definedRulesNames, this.className);\n    this.definitionErrors = this.definitionErrors.concat(ruleErrors);\n    const ruleImplementation = this.defineRule(name, impl, config);\n    this[name] = ruleImplementation;\n    return ruleImplementation;\n  }\n\n  BACKTRACK(grammarRule, args) {\n    return function () {\n      // save org state\n      this.isBackTrackingStack.push(1);\n      const orgState = this.saveRecogState();\n\n      try {\n        grammarRule.apply(this, args); // if no exception was thrown we have succeed parsing the rule.\n\n        return true;\n      } catch (e) {\n        if ((0, exceptions_public_1.isRecognitionException)(e)) {\n          return false;\n        } else {\n          throw e;\n        }\n      } finally {\n        this.reloadRecogState(orgState);\n        this.isBackTrackingStack.pop();\n      }\n    };\n  } // GAST export APIs\n\n\n  getGAstProductions() {\n    return this.gastProductionsCache;\n  }\n\n  getSerializedGastProductions() {\n    return (0, gast_1.serializeGrammar)((0, values_1.default)(this.gastProductionsCache));\n  }\n\n}\n\nexports.RecognizerApi = RecognizerApi;","map":{"version":3,"sources":["../../../../../src/parse/parser/traits/recognizer_api.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAeA,MAAA,QAAA,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AACA,MAAA,UAAA,GAAA,eAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,CAAA;;AACA,MAAA,mBAAA,GAAA,OAAA,CAAA,yBAAA,CAAA;;AACA,MAAA,QAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AACA,MAAA,eAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AACA,MAAA,QAAA,GAAA,OAAA,CAAA,sBAAA,CAAA;;AAEA,MAAA,MAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;AAIA;;;;;;;AAOG;;;AACH,MAAa,aAAb,CAA0B;AACxB,EAAA,MAAM,CAAyB,IAAzB,EAAsC;AAC1C,WAAO,IAAI,CAAC,IAAL,CAAU,IAAV,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,GAFK,EAGL,OAHK,EAIL,OAJK,EAIsB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,GAA9B,EAAmC,OAAnC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,GAFK,EAGL,UAHK,EAIL,OAJK,EAI4B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,GAAjC,EAAsC,OAAtC,CAAP;AACD;;AAED,EAAA,MAAM,CAEJ,GAFI,EAGJ,iBAHI,EAGsD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,GAAvC,CAAP;AACD;;AAED,EAAA,EAAE,CAEA,GAFA,EAGA,UAHA,EAG6C;AAE7C,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,GAA5B,CAAP;AACD;;AAED,EAAA,IAAI,CAEF,GAFE,EAGF,iBAHE,EAGwD;AAE1D,WAAO,KAAK,YAAL,CAAkB,GAAlB,EAAuB,iBAAvB,CAAP;AACD;;AAED,EAAA,UAAU,CAER,GAFQ,EAGR,iBAHQ,EAGyD;AAEjE,WAAO,KAAK,kBAAL,CAAwB,GAAxB,EAA6B,iBAA7B,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,OAFK,EAGL,OAHK,EAGsB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,OAFM,EAGN,OAHM,EAGqB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,OAFM,EAGN,OAHM,EAGqB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,OAFM,EAGN,OAHM,EAGqB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,OAFM,EAGN,OAHM,EAGqB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,OAFM,EAGN,OAHM,EAGqB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,OAFM,EAGN,OAHM,EAGqB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,OAFM,EAGN,OAHM,EAGqB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,OAFM,EAGN,OAHM,EAGqB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,OAFM,EAGN,OAHM,EAGqB;AAE3B,WAAO,KAAK,eAAL,CAAqB,OAArB,EAA8B,CAA9B,EAAiC,OAAjC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,UAFK,EAGL,OAHK,EAG4B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,UAFM,EAGN,OAHM,EAG2B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,UAFM,EAGN,OAHM,EAG2B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,UAFM,EAGN,OAHM,EAG2B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,UAFM,EAGN,OAHM,EAG2B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,UAFM,EAGN,OAHM,EAG2B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,UAFM,EAGN,OAHM,EAG2B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,UAFM,EAGN,OAHM,EAG2B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,UAFM,EAGN,OAHM,EAG2B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,QAAQ,CAEN,UAFM,EAGN,OAHM,EAG2B;AAEjC,WAAO,KAAK,eAAL,CAAqB,UAArB,EAAiC,CAAjC,EAAoC,OAApC,CAAP;AACD;;AAED,EAAA,MAAM,CAEJ,iBAFI,EAEsD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,iBAFK,EAEqD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,iBAFK,EAEqD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,iBAFK,EAEqD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,iBAFK,EAEqD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,iBAFK,EAEqD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,iBAFK,EAEqD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,iBAFK,EAEqD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,iBAFK,EAEqD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,OAAO,CAEL,iBAFK,EAEqD;AAE1D,WAAO,KAAK,cAAL,CAAoB,iBAApB,EAAuC,CAAvC,CAAP;AACD;;AAED,EAAA,EAAE,CAEA,UAFA,EAEiD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,GAAG,CAED,UAFC,EAEgD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,GAAG,CAED,UAFC,EAEgD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,GAAG,CAED,UAFC,EAEgD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,GAAG,CAED,UAFC,EAEgD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,GAAG,CAED,UAFC,EAEgD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,GAAG,CAED,UAFC,EAEgD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,GAAG,CAED,UAFC,EAEgD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,GAAG,CAED,UAFC,EAEgD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,GAAG,CAED,UAFC,EAEgD;AAEjD,WAAO,KAAK,UAAL,CAAgB,UAAhB,EAA4B,CAA5B,CAAP;AACD;;AAED,EAAA,IAAI,CAEF,iBAFE,EAEwD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,KAAK,CAEH,iBAFG,EAEuD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,KAAK,CAEH,iBAFG,EAEuD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,KAAK,CAEH,iBAFG,EAEuD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,KAAK,CAEH,iBAFG,EAEuD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,KAAK,CAEH,iBAFG,EAEuD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,KAAK,CAEH,iBAFG,EAEuD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,KAAK,CAEH,iBAFG,EAEuD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,KAAK,CAEH,iBAFG,EAEuD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,KAAK,CAEH,iBAFG,EAEuD;AAE1D,SAAK,YAAL,CAAkB,CAAlB,EAAqB,iBAArB;AACD;;AAED,EAAA,QAAQ,CAA2B,OAA3B,EAA0D;AAChE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,SAAS,CAA2B,OAA3B,EAA0D;AACjE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,SAAS,CAA2B,OAA3B,EAA0D;AACjE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,SAAS,CAA2B,OAA3B,EAA0D;AACjE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,SAAS,CAA2B,OAA3B,EAA0D;AACjE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,SAAS,CAA2B,OAA3B,EAA0D;AACjE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,SAAS,CAA2B,OAA3B,EAA0D;AACjE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,SAAS,CAA2B,OAA3B,EAA0D;AACjE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,SAAS,CAA2B,OAA3B,EAA0D;AACjE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,SAAS,CAA2B,OAA3B,EAA0D;AACjE,SAAK,oBAAL,CAA0B,CAA1B,EAA6B,OAA7B;AACD;;AAED,EAAA,YAAY,CAEV,iBAFU,EAEuD;AAEjE,SAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B;AACD;;AAED,EAAA,aAAa,CAEX,iBAFW,EAEsD;AAEjE,WAAO,KAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B,CAAP;AACD;;AAED,EAAA,aAAa,CAEX,iBAFW,EAEsD;AAEjE,SAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B;AACD;;AAED,EAAA,aAAa,CAEX,iBAFW,EAEsD;AAEjE,SAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B;AACD;;AAED,EAAA,aAAa,CAEX,iBAFW,EAEsD;AAEjE,SAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B;AACD;;AAED,EAAA,aAAa,CAEX,iBAFW,EAEsD;AAEjE,SAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B;AACD;;AAED,EAAA,aAAa,CAEX,iBAFW,EAEsD;AAEjE,SAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B;AACD;;AAED,EAAA,aAAa,CAEX,iBAFW,EAEsD;AAEjE,SAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B;AACD;;AAED,EAAA,aAAa,CAEX,iBAFW,EAEsD;AAEjE,SAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B;AACD;;AAED,EAAA,aAAa,CAEX,iBAFW,EAEsD;AAEjE,SAAK,kBAAL,CAAwB,CAAxB,EAA2B,iBAA3B;AACD;;AAED,EAAA,gBAAgB,CAEd,OAFc,EAEuB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,iBAAiB,CAEf,OAFe,EAEsB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,iBAAiB,CAEf,OAFe,EAEsB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,iBAAiB,CAEf,OAFe,EAEsB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,iBAAiB,CAEf,OAFe,EAEsB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,iBAAiB,CAEf,OAFe,EAEsB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,iBAAiB,CAEf,OAFe,EAEsB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,iBAAiB,CAEf,OAFe,EAEsB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,iBAAiB,CAEf,OAFe,EAEsB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,iBAAiB,CAEf,OAFe,EAEsB;AAErC,SAAK,0BAAL,CAAgC,CAAhC,EAAmC,OAAnC;AACD;;AAED,EAAA,IAAI,CAEF,IAFE,EAGF,cAHE,EAIF,MAAA,GAAyB,QAAA,CAAA,mBAJvB,EAI0C;AAE5C,QAAI,CAAA,GAAA,UAAA,CAAA,OAAA,EAAS,KAAK,iBAAd,EAAiC,IAAjC,CAAJ,EAA4C;AAC1C,YAAM,MAAM,GACV,eAAA,CAAA,oCAAA,CAAqC,2BAArC,CAAiE;AAC/D,QAAA,YAAY,EAAE,IADiD;AAE/D,QAAA,WAAW,EAAE,KAAK;AAF6C,OAAjE,CADF;AAMA,YAAM,KAAK,GAAG;AACZ,QAAA,OAAO,EAAE,MADG;AAEZ,QAAA,IAAI,EAAE,QAAA,CAAA,yBAAA,CAA0B,mBAFpB;AAGZ,QAAA,QAAQ,EAAE;AAHE,OAAd;AAKA,WAAK,gBAAL,CAAsB,IAAtB,CAA2B,KAA3B;AACD;;AAED,SAAK,iBAAL,CAAuB,IAAvB,CAA4B,IAA5B;AAEA,UAAM,kBAAkB,GAAG,KAAK,UAAL,CAAgB,IAAhB,EAAsB,cAAtB,EAAsC,MAAtC,CAA3B;AACE,SAAa,IAAb,IAAqB,kBAArB;AACF,WAAO,kBAAP;AACD;;AAED,EAAA,aAAa,CAEX,IAFW,EAGX,IAHW,EAIX,MAAA,GAAyB,QAAA,CAAA,mBAJd,EAIiC;AAE5C,UAAM,UAAU,GAA6B,CAAA,GAAA,QAAA,CAAA,wBAAA,EAC3C,IAD2C,EAE3C,KAAK,iBAFsC,EAG3C,KAAK,SAHsC,CAA7C;AAKA,SAAK,gBAAL,GAAwB,KAAK,gBAAL,CAAsB,MAAtB,CAA6B,UAA7B,CAAxB;AAEA,UAAM,kBAAkB,GAAG,KAAK,UAAL,CAAgB,IAAhB,EAAsB,IAAtB,EAA4B,MAA5B,CAA3B;AACE,SAAa,IAAb,IAAqB,kBAArB;AACF,WAAO,kBAAP;AACD;;AAED,EAAA,SAAS,CAEP,WAFO,EAGP,IAHO,EAGK;AAEZ,WAAO,YAAA;AACL;AACA,WAAK,mBAAL,CAAyB,IAAzB,CAA8B,CAA9B;AACA,YAAM,QAAQ,GAAG,KAAK,cAAL,EAAjB;;AACA,UAAI;AACF,QAAA,WAAW,CAAC,KAAZ,CAAkB,IAAlB,EAAwB,IAAxB,EADE,CAEF;;AACA,eAAO,IAAP;AACD,OAJD,CAIE,OAAO,CAAP,EAAU;AACV,YAAI,CAAA,GAAA,mBAAA,CAAA,sBAAA,EAAuB,CAAvB,CAAJ,EAA+B;AAC7B,iBAAO,KAAP;AACD,SAFD,MAEO;AACL,gBAAM,CAAN;AACD;AACF,OAVD,SAUU;AACR,aAAK,gBAAL,CAAsB,QAAtB;AACA,aAAK,mBAAL,CAAyB,GAAzB;AACD;AACF,KAlBD;AAmBD,GAnqBuB,CAqqBxB;;;AACO,EAAA,kBAAkB,GAAA;AACvB,WAAO,KAAK,oBAAZ;AACD;;AAEM,EAAA,4BAA4B,GAAA;AACjC,WAAO,CAAA,GAAA,MAAA,CAAA,gBAAA,EAAiB,CAAA,GAAA,QAAA,CAAA,OAAA,EAAO,KAAK,oBAAZ,CAAjB,CAAP;AACD;;AA5qBuB;;AAA1B,OAAA,CAAA,aAAA,GAAA,aAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RecognizerApi = void 0;\nconst values_1 = __importDefault(require(\"lodash/values\"));\nconst includes_1 = __importDefault(require(\"lodash/includes\"));\nconst exceptions_public_1 = require(\"../../exceptions_public\");\nconst parser_1 = require(\"../parser\");\nconst errors_public_1 = require(\"../../errors_public\");\nconst checks_1 = require(\"../../grammar/checks\");\nconst gast_1 = require(\"@chevrotain/gast\");\n/**\n * This trait is responsible for implementing the public API\n * for defining Chevrotain parsers, i.e:\n * - CONSUME\n * - RULE\n * - OPTION\n * - ...\n */\nclass RecognizerApi {\n    ACTION(impl) {\n        return impl.call(this);\n    }\n    consume(idx, tokType, options) {\n        return this.consumeInternal(tokType, idx, options);\n    }\n    subrule(idx, ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, idx, options);\n    }\n    option(idx, actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, idx);\n    }\n    or(idx, altsOrOpts) {\n        return this.orInternal(altsOrOpts, idx);\n    }\n    many(idx, actionORMethodDef) {\n        return this.manyInternal(idx, actionORMethodDef);\n    }\n    atLeastOne(idx, actionORMethodDef) {\n        return this.atLeastOneInternal(idx, actionORMethodDef);\n    }\n    CONSUME(tokType, options) {\n        return this.consumeInternal(tokType, 0, options);\n    }\n    CONSUME1(tokType, options) {\n        return this.consumeInternal(tokType, 1, options);\n    }\n    CONSUME2(tokType, options) {\n        return this.consumeInternal(tokType, 2, options);\n    }\n    CONSUME3(tokType, options) {\n        return this.consumeInternal(tokType, 3, options);\n    }\n    CONSUME4(tokType, options) {\n        return this.consumeInternal(tokType, 4, options);\n    }\n    CONSUME5(tokType, options) {\n        return this.consumeInternal(tokType, 5, options);\n    }\n    CONSUME6(tokType, options) {\n        return this.consumeInternal(tokType, 6, options);\n    }\n    CONSUME7(tokType, options) {\n        return this.consumeInternal(tokType, 7, options);\n    }\n    CONSUME8(tokType, options) {\n        return this.consumeInternal(tokType, 8, options);\n    }\n    CONSUME9(tokType, options) {\n        return this.consumeInternal(tokType, 9, options);\n    }\n    SUBRULE(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 0, options);\n    }\n    SUBRULE1(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 1, options);\n    }\n    SUBRULE2(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 2, options);\n    }\n    SUBRULE3(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 3, options);\n    }\n    SUBRULE4(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 4, options);\n    }\n    SUBRULE5(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 5, options);\n    }\n    SUBRULE6(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 6, options);\n    }\n    SUBRULE7(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 7, options);\n    }\n    SUBRULE8(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 8, options);\n    }\n    SUBRULE9(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 9, options);\n    }\n    OPTION(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 0);\n    }\n    OPTION1(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 1);\n    }\n    OPTION2(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 2);\n    }\n    OPTION3(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 3);\n    }\n    OPTION4(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 4);\n    }\n    OPTION5(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 5);\n    }\n    OPTION6(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 6);\n    }\n    OPTION7(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 7);\n    }\n    OPTION8(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 8);\n    }\n    OPTION9(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 9);\n    }\n    OR(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 0);\n    }\n    OR1(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 1);\n    }\n    OR2(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 2);\n    }\n    OR3(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 3);\n    }\n    OR4(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 4);\n    }\n    OR5(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 5);\n    }\n    OR6(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 6);\n    }\n    OR7(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 7);\n    }\n    OR8(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 8);\n    }\n    OR9(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 9);\n    }\n    MANY(actionORMethodDef) {\n        this.manyInternal(0, actionORMethodDef);\n    }\n    MANY1(actionORMethodDef) {\n        this.manyInternal(1, actionORMethodDef);\n    }\n    MANY2(actionORMethodDef) {\n        this.manyInternal(2, actionORMethodDef);\n    }\n    MANY3(actionORMethodDef) {\n        this.manyInternal(3, actionORMethodDef);\n    }\n    MANY4(actionORMethodDef) {\n        this.manyInternal(4, actionORMethodDef);\n    }\n    MANY5(actionORMethodDef) {\n        this.manyInternal(5, actionORMethodDef);\n    }\n    MANY6(actionORMethodDef) {\n        this.manyInternal(6, actionORMethodDef);\n    }\n    MANY7(actionORMethodDef) {\n        this.manyInternal(7, actionORMethodDef);\n    }\n    MANY8(actionORMethodDef) {\n        this.manyInternal(8, actionORMethodDef);\n    }\n    MANY9(actionORMethodDef) {\n        this.manyInternal(9, actionORMethodDef);\n    }\n    MANY_SEP(options) {\n        this.manySepFirstInternal(0, options);\n    }\n    MANY_SEP1(options) {\n        this.manySepFirstInternal(1, options);\n    }\n    MANY_SEP2(options) {\n        this.manySepFirstInternal(2, options);\n    }\n    MANY_SEP3(options) {\n        this.manySepFirstInternal(3, options);\n    }\n    MANY_SEP4(options) {\n        this.manySepFirstInternal(4, options);\n    }\n    MANY_SEP5(options) {\n        this.manySepFirstInternal(5, options);\n    }\n    MANY_SEP6(options) {\n        this.manySepFirstInternal(6, options);\n    }\n    MANY_SEP7(options) {\n        this.manySepFirstInternal(7, options);\n    }\n    MANY_SEP8(options) {\n        this.manySepFirstInternal(8, options);\n    }\n    MANY_SEP9(options) {\n        this.manySepFirstInternal(9, options);\n    }\n    AT_LEAST_ONE(actionORMethodDef) {\n        this.atLeastOneInternal(0, actionORMethodDef);\n    }\n    AT_LEAST_ONE1(actionORMethodDef) {\n        return this.atLeastOneInternal(1, actionORMethodDef);\n    }\n    AT_LEAST_ONE2(actionORMethodDef) {\n        this.atLeastOneInternal(2, actionORMethodDef);\n    }\n    AT_LEAST_ONE3(actionORMethodDef) {\n        this.atLeastOneInternal(3, actionORMethodDef);\n    }\n    AT_LEAST_ONE4(actionORMethodDef) {\n        this.atLeastOneInternal(4, actionORMethodDef);\n    }\n    AT_LEAST_ONE5(actionORMethodDef) {\n        this.atLeastOneInternal(5, actionORMethodDef);\n    }\n    AT_LEAST_ONE6(actionORMethodDef) {\n        this.atLeastOneInternal(6, actionORMethodDef);\n    }\n    AT_LEAST_ONE7(actionORMethodDef) {\n        this.atLeastOneInternal(7, actionORMethodDef);\n    }\n    AT_LEAST_ONE8(actionORMethodDef) {\n        this.atLeastOneInternal(8, actionORMethodDef);\n    }\n    AT_LEAST_ONE9(actionORMethodDef) {\n        this.atLeastOneInternal(9, actionORMethodDef);\n    }\n    AT_LEAST_ONE_SEP(options) {\n        this.atLeastOneSepFirstInternal(0, options);\n    }\n    AT_LEAST_ONE_SEP1(options) {\n        this.atLeastOneSepFirstInternal(1, options);\n    }\n    AT_LEAST_ONE_SEP2(options) {\n        this.atLeastOneSepFirstInternal(2, options);\n    }\n    AT_LEAST_ONE_SEP3(options) {\n        this.atLeastOneSepFirstInternal(3, options);\n    }\n    AT_LEAST_ONE_SEP4(options) {\n        this.atLeastOneSepFirstInternal(4, options);\n    }\n    AT_LEAST_ONE_SEP5(options) {\n        this.atLeastOneSepFirstInternal(5, options);\n    }\n    AT_LEAST_ONE_SEP6(options) {\n        this.atLeastOneSepFirstInternal(6, options);\n    }\n    AT_LEAST_ONE_SEP7(options) {\n        this.atLeastOneSepFirstInternal(7, options);\n    }\n    AT_LEAST_ONE_SEP8(options) {\n        this.atLeastOneSepFirstInternal(8, options);\n    }\n    AT_LEAST_ONE_SEP9(options) {\n        this.atLeastOneSepFirstInternal(9, options);\n    }\n    RULE(name, implementation, config = parser_1.DEFAULT_RULE_CONFIG) {\n        if ((0, includes_1.default)(this.definedRulesNames, name)) {\n            const errMsg = errors_public_1.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({\n                topLevelRule: name,\n                grammarName: this.className\n            });\n            const error = {\n                message: errMsg,\n                type: parser_1.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,\n                ruleName: name\n            };\n            this.definitionErrors.push(error);\n        }\n        this.definedRulesNames.push(name);\n        const ruleImplementation = this.defineRule(name, implementation, config);\n        this[name] = ruleImplementation;\n        return ruleImplementation;\n    }\n    OVERRIDE_RULE(name, impl, config = parser_1.DEFAULT_RULE_CONFIG) {\n        const ruleErrors = (0, checks_1.validateRuleIsOverridden)(name, this.definedRulesNames, this.className);\n        this.definitionErrors = this.definitionErrors.concat(ruleErrors);\n        const ruleImplementation = this.defineRule(name, impl, config);\n        this[name] = ruleImplementation;\n        return ruleImplementation;\n    }\n    BACKTRACK(grammarRule, args) {\n        return function () {\n            // save org state\n            this.isBackTrackingStack.push(1);\n            const orgState = this.saveRecogState();\n            try {\n                grammarRule.apply(this, args);\n                // if no exception was thrown we have succeed parsing the rule.\n                return true;\n            }\n            catch (e) {\n                if ((0, exceptions_public_1.isRecognitionException)(e)) {\n                    return false;\n                }\n                else {\n                    throw e;\n                }\n            }\n            finally {\n                this.reloadRecogState(orgState);\n                this.isBackTrackingStack.pop();\n            }\n        };\n    }\n    // GAST export APIs\n    getGAstProductions() {\n        return this.gastProductionsCache;\n    }\n    getSerializedGastProductions() {\n        return (0, gast_1.serializeGrammar)((0, values_1.default)(this.gastProductionsCache));\n    }\n}\nexports.RecognizerApi = RecognizerApi;\n//# sourceMappingURL=recognizer_api.js.map"]},"metadata":{},"sourceType":"script"}