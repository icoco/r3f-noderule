{"ast":null,"code":"import React, { createContext, useContext, useRef, useCallback, useState, useEffect } from 'react';\nimport * as P from '@radix-ui/react-portal';\nimport { dequal } from 'dequal/lite';\nimport shallow from 'zustand/shallow';\nimport v8n from 'v8n';\nimport { createCss } from '@stitches/react';\nimport { useDrag as useDrag$1 } from 'react-use-gesture';\nimport * as RadixTooltip from '@radix-ui/react-tooltip';\nimport { Arrow } from '@radix-ui/react-tooltip';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nlet LevaErrors;\n\n(function (LevaErrors) {\n  LevaErrors[LevaErrors[\"UNSUPPORTED_INPUT\"] = 0] = \"UNSUPPORTED_INPUT\";\n  LevaErrors[LevaErrors[\"NO_COMPONENT_FOR_TYPE\"] = 1] = \"NO_COMPONENT_FOR_TYPE\";\n  LevaErrors[LevaErrors[\"UNKNOWN_INPUT\"] = 2] = \"UNKNOWN_INPUT\";\n  LevaErrors[LevaErrors[\"DUPLICATE_KEYS\"] = 3] = \"DUPLICATE_KEYS\";\n  LevaErrors[LevaErrors[\"ALREADY_REGISTERED_TYPE\"] = 4] = \"ALREADY_REGISTERED_TYPE\";\n  LevaErrors[LevaErrors[\"CLIPBOARD_ERROR\"] = 5] = \"CLIPBOARD_ERROR\";\n  LevaErrors[LevaErrors[\"THEME_ERROR\"] = 6] = \"THEME_ERROR\";\n  LevaErrors[LevaErrors[\"PATH_DOESNT_EXIST\"] = 7] = \"PATH_DOESNT_EXIST\";\n  LevaErrors[LevaErrors[\"INPUT_TYPE_OVERRIDE\"] = 8] = \"INPUT_TYPE_OVERRIDE\";\n  LevaErrors[LevaErrors[\"EMPTY_KEY\"] = 9] = \"EMPTY_KEY\";\n})(LevaErrors || (LevaErrors = {}));\n\nconst ErrorList = {\n  [LevaErrors.UNSUPPORTED_INPUT]: (type, path) => [`An input with type \\`${type}\\` input was found at path \\`${path}\\` but it's not supported yet.`],\n  [LevaErrors.NO_COMPONENT_FOR_TYPE]: (type, path) => [`Type \\`${type}\\` found at path \\`${path}\\` can't be displayed in panel because no component supports it yet.`],\n  [LevaErrors.UNKNOWN_INPUT]: (path, value) => [`input at path \\`${path}\\` is not recognized.`, value],\n  [LevaErrors.DUPLICATE_KEYS]: (key, path, prevPath) => [`Key \\`${key}\\` of path \\`${path}\\` already exists at path \\`${prevPath}\\`. Even nested keys need to be unique. Rename one of the keys.`],\n  [LevaErrors.ALREADY_REGISTERED_TYPE]: type => [`Type ${type} has already been registered. You can't register a component with the same type.`],\n  [LevaErrors.CLIPBOARD_ERROR]: value => [`Error copying the value`, value],\n  [LevaErrors.THEME_ERROR]: (category, key) => [`Error accessing the theme \\`${category}.${key}\\` value.`],\n  [LevaErrors.PATH_DOESNT_EXIST]: path => [`Error getting the value at path \\`${path}\\`. There is probably an error in your \\`render\\` function.`],\n  [LevaErrors.PATH_DOESNT_EXIST]: path => [`Error accessing the value at path \\`${path}\\``],\n  [LevaErrors.INPUT_TYPE_OVERRIDE]: (path, type, wrongType) => [`Input at path \\`${path}\\` already exists with type: \\`${type}\\`. Its type cannot be overridden with type \\`${wrongType}\\`.`],\n  [LevaErrors.EMPTY_KEY]: () => ['Keys can not be empty, if you want to hide a label use whitespace.']\n};\n\nfunction _log(fn, errorType, ...args) {\n  const [message, ...rest] = ErrorList[errorType](...args);\n  console[fn]('LEVA: ' + message, ...rest);\n}\n\nconst warn = _log.bind(null, 'warn');\n\nconst log = _log.bind(null, 'log');\n\nconst _excluded$a = [\"value\"],\n      _excluded2$4 = [\"schema\"],\n      _excluded3$1 = [\"value\"];\nconst Schemas = [];\nconst Plugins = {};\n\nfunction getValueType(_ref) {\n  let {\n    value\n  } = _ref,\n      settings = _objectWithoutProperties(_ref, _excluded$a);\n\n  for (let checker of Schemas) {\n    const type = checker(value, settings);\n    if (type) return type;\n  }\n\n  return undefined;\n}\n\nfunction register(type, _ref2) {\n  let {\n    schema\n  } = _ref2,\n      plugin = _objectWithoutProperties(_ref2, _excluded2$4);\n\n  if (type in Plugins) {\n    warn(LevaErrors.ALREADY_REGISTERED_TYPE, type);\n    return;\n  }\n\n  Schemas.push((value, settings) => schema(value, settings) && type);\n  Plugins[type] = plugin;\n}\n\nconst getUniqueType = () => '__CUSTOM__PLUGIN__' + Math.random().toString(36).substr(2, 9);\n\nfunction createInternalPlugin(plugin) {\n  return plugin;\n}\n\nfunction createPlugin(plugin) {\n  const type = getUniqueType();\n  Plugins[type] = plugin;\n  return input => {\n    return {\n      type,\n      __customInput: input\n    };\n  };\n}\n\nfunction normalize$2(type, input, path, data) {\n  const {\n    normalize: _normalize\n  } = Plugins[type];\n  if (_normalize) return _normalize(input, path, data);\n  if (typeof input !== 'object' || !('value' in input)) return {\n    value: input\n  };\n\n  const {\n    value\n  } = input,\n        settings = _objectWithoutProperties(input, _excluded3$1);\n\n  return {\n    value,\n    settings\n  };\n}\n\nfunction sanitize$4(type, value, settings, prevValue, path, store) {\n  const {\n    sanitize\n  } = Plugins[type];\n  if (sanitize) return sanitize(value, settings, prevValue, path, store);\n  return value;\n}\n\nfunction format$2(type, value, settings) {\n  const {\n    format\n  } = Plugins[type];\n  if (format) return format(value, settings);\n  return value;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nconst clamp = (x, min, max) => x > max ? max : x < min ? min : x;\n\nconst pad = (x, pad) => String(x).padStart(pad, '0');\n\nconst parseNumber = v => {\n  if (v === '' || typeof v === 'number') return v;\n\n  try {\n    const _v = evaluate(v);\n\n    if (!isNaN(_v)) return _v;\n  } catch (_unused) {}\n\n  return parseFloat(v);\n};\n\nconst log10 = Math.log(10);\n\nfunction getStep(number) {\n  let n = Math.abs(+String(number).replace('.', ''));\n  if (n === 0) return 0.01;\n\n  while (n !== 0 && n % 10 === 0) n /= 10;\n\n  const significantDigits = Math.floor(Math.log(n) / log10) + 1;\n  const numberLog = Math.floor(Math.log10(Math.abs(number)));\n  const step = Math.pow(10, numberLog - significantDigits);\n  return Math.max(step, 0.001);\n}\n\nconst range = (v, min, max) => {\n  if (max === min) return 0;\n  return (v - min) / (max - min);\n};\n\nconst invertedRange = (p, min, max) => p * (max - min) + min;\n\nconst getUid = () => '_' + Math.random().toString(36).substr(2, 9);\n\nconst parens = /\\(([0-9+\\-*/^ .]+)\\)/;\nconst exp = /(\\d+(?:\\.\\d+)?) ?\\^ ?(\\d+(?:\\.\\d+)?)/;\nconst mul = /(\\d+(?:\\.\\d+)?) ?\\* ?(\\d+(?:\\.\\d+)?)/;\nconst div = /(\\d+(?:\\.\\d+)?) ?\\/ ?(\\d+(?:\\.\\d+)?)/;\nconst add = /(\\d+(?:\\.\\d+)?) ?\\+ ?(\\d+(?:\\.\\d+)?)/;\nconst sub = /(\\d+(?:\\.\\d+)?) ?- ?(\\d+(?:\\.\\d+)?)/;\n\nfunction evaluate(expr) {\n  if (isNaN(Number(expr))) {\n    if (parens.test(expr)) {\n      const newExpr = expr.replace(parens, (match, subExpr) => String(evaluate(subExpr)));\n      return evaluate(newExpr);\n    } else if (exp.test(expr)) {\n      const newExpr = expr.replace(exp, (match, base, pow) => String(Math.pow(Number(base), Number(pow))));\n      return evaluate(newExpr);\n    } else if (mul.test(expr)) {\n      const newExpr = expr.replace(mul, (match, a, b) => String(Number(a) * Number(b)));\n      return evaluate(newExpr);\n    } else if (div.test(expr)) {\n      const newExpr = expr.replace(div, (match, a, b) => {\n        if (b != 0) return String(Number(a) / Number(b));else throw new Error('Division by zero');\n      });\n      return evaluate(newExpr);\n    } else if (add.test(expr)) {\n      const newExpr = expr.replace(add, (match, a, b) => String(Number(a) + Number(b)));\n      return evaluate(newExpr);\n    } else if (sub.test(expr)) {\n      const newExpr = expr.replace(sub, (match, a, b) => String(Number(a) - Number(b)));\n      return evaluate(newExpr);\n    } else {\n      return Number(expr);\n    }\n  }\n\n  return Number(expr);\n}\n\nfunction pick(object, keys) {\n  return keys.reduce((obj, key) => {\n    if (!!object && object.hasOwnProperty(key)) {\n      obj[key] = object[key];\n    }\n\n    return obj;\n  }, {});\n}\n\nfunction omit(object, keys) {\n  const obj = _objectSpread2({}, object);\n\n  keys.forEach(k => k in object && delete obj[k]);\n  return obj;\n}\n\nfunction mapArrayToKeys(value, keys) {\n  return value.reduce((acc, v, i) => Object.assign(acc, {\n    [keys[i]]: v\n  }), {});\n}\n\nlet SpecialInputs;\n\n(function (SpecialInputs) {\n  SpecialInputs[\"BUTTON\"] = \"BUTTON\";\n  SpecialInputs[\"BUTTON_GROUP\"] = \"BUTTON_GROUP\";\n  SpecialInputs[\"MONITOR\"] = \"MONITOR\";\n  SpecialInputs[\"FOLDER\"] = \"FOLDER\";\n})(SpecialInputs || (SpecialInputs = {}));\n\nlet LevaInputs;\n\n(function (LevaInputs) {\n  LevaInputs[\"SELECT\"] = \"SELECT\";\n  LevaInputs[\"IMAGE\"] = \"IMAGE\";\n  LevaInputs[\"NUMBER\"] = \"NUMBER\";\n  LevaInputs[\"COLOR\"] = \"COLOR\";\n  LevaInputs[\"STRING\"] = \"STRING\";\n  LevaInputs[\"BOOLEAN\"] = \"BOOLEAN\";\n  LevaInputs[\"INTERVAL\"] = \"INTERVAL\";\n  LevaInputs[\"VECTOR3D\"] = \"VECTOR3D\";\n  LevaInputs[\"VECTOR2D\"] = \"VECTOR2D\";\n})(LevaInputs || (LevaInputs = {}));\n\nconst _excluded$9 = [\"type\", \"__customInput\"],\n      _excluded2$3 = [\"render\", \"label\", \"optional\", \"disabled\", \"hint\", \"onChange\", \"onEditStart\", \"onEditEnd\", \"transient\"],\n      _excluded3 = [\"type\"];\n\nfunction parseOptions(_input, key, mergedOptions = {}, customType) {\n  if (typeof _input !== 'object' || Array.isArray(_input)) {\n    return {\n      type: customType,\n      input: _input,\n      options: _objectSpread2({\n        key,\n        label: key,\n        optional: false,\n        disabled: false\n      }, mergedOptions)\n    };\n  }\n\n  if ('__customInput' in _input) {\n    const {\n      type: _type,\n      __customInput\n    } = _input,\n          options = _objectWithoutProperties(_input, _excluded$9);\n\n    return parseOptions(__customInput, key, options, _type);\n  }\n\n  const {\n    render,\n    label,\n    optional,\n    disabled,\n    hint,\n    onChange,\n    onEditStart,\n    onEditEnd,\n    transient\n  } = _input,\n        inputWithType = _objectWithoutProperties(_input, _excluded2$3);\n\n  const commonOptions = _objectSpread2({\n    render,\n    key,\n    label: label !== null && label !== void 0 ? label : key,\n    hint,\n    transient: transient !== null && transient !== void 0 ? transient : !!onChange,\n    onEditStart,\n    onEditEnd\n  }, mergedOptions);\n\n  let {\n    type\n  } = inputWithType,\n      input = _objectWithoutProperties(inputWithType, _excluded3);\n\n  type = customType !== null && customType !== void 0 ? customType : type;\n\n  if (type in SpecialInputs) {\n    return {\n      type,\n      input,\n      options: commonOptions\n    };\n  }\n\n  return {\n    type,\n    input,\n    options: _objectSpread2(_objectSpread2({}, commonOptions), {}, {\n      onChange,\n      optional: optional !== null && optional !== void 0 ? optional : false,\n      disabled: disabled !== null && disabled !== void 0 ? disabled : false\n    })\n  };\n}\n\nfunction normalizeInput(_input, key, path, data) {\n  const parsedInputAndOptions = parseOptions(_input, key);\n  const {\n    type,\n    input: parsedInput,\n    options\n  } = parsedInputAndOptions;\n\n  if (type) {\n    if (type in SpecialInputs) return parsedInputAndOptions;\n    return {\n      type,\n      input: normalize$2(type, parsedInput, path, data),\n      options\n    };\n  }\n\n  let inputType = getValueType(parsedInput);\n  if (inputType) return {\n    type: inputType,\n    input: normalize$2(inputType, parsedInput, path, data),\n    options\n  };\n  inputType = getValueType({\n    value: parsedInput\n  });\n  if (inputType) return {\n    type: inputType,\n    input: normalize$2(inputType, {\n      value: parsedInput\n    }, path, data),\n    options\n  };\n  return false;\n}\n\nfunction updateInput(input, newValue, path, store, fromPanel) {\n  const {\n    value,\n    type,\n    settings\n  } = input;\n  input.value = sanitizeValue({\n    type,\n    value,\n    settings\n  }, newValue, path, store);\n  input.fromPanel = fromPanel;\n}\n\nconst ValueError = function ValueError(message, value, error) {\n  this.type = 'LEVA_ERROR';\n  this.message = 'LEVA: ' + message;\n  this.previousValue = value;\n  this.error = error;\n};\n\nfunction sanitizeValue({\n  type,\n  value,\n  settings\n}, newValue, path, store) {\n  const _newValue = type !== 'SELECT' && typeof newValue === 'function' ? newValue(value) : newValue;\n\n  let sanitizedNewValue;\n\n  try {\n    sanitizedNewValue = sanitize$4(type, _newValue, settings, value, path, store);\n  } catch (e) {\n    throw new ValueError(`The value \\`${newValue}\\` did not result in a correct value.`, value, e);\n  }\n\n  if (dequal(sanitizedNewValue, value)) {\n    throw new ValueError(`The value \\`${newValue}\\` did not result in a value update, which remained the same: \\`${value}\\`.\n        You can ignore this warning if this is the intended behavior.`, value);\n  }\n\n  return sanitizedNewValue;\n}\n\nconst debounce = (callback, wait, immediate = false) => {\n  let timeout = 0;\n  return function () {\n    const args = arguments;\n    const callNow = immediate && !timeout;\n\n    const next = () => callback.apply(this, args);\n\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(next, wait);\n    if (callNow) next();\n  };\n};\n\nconst multiplyStep = event => event.shiftKey ? 5 : event.altKey ? 1 / 5 : 1;\n\nconst _excluded$8 = [\"value\"],\n      _excluded2$2 = [\"min\", \"max\"];\n\nconst schema$3 = o => typeof o === 'number' || typeof o === 'string' && !isNaN(parseFloat(o));\n\nconst sanitize$3 = (v, {\n  min: _min = -Infinity,\n  max: _max = Infinity,\n  suffix\n}) => {\n  const _v = parseFloat(v);\n\n  if (v === '' || isNaN(_v)) throw Error('Invalid number');\n  const f = clamp(_v, _min, _max);\n  return suffix ? f + suffix : f;\n};\n\nconst format$1 = (v, {\n  pad: _pad = 0,\n  suffix\n}) => {\n  const f = parseFloat(v).toFixed(_pad);\n  return suffix ? f + suffix : f;\n};\n\nconst normalize$1 = _ref => {\n  let {\n    value\n  } = _ref,\n      settings = _objectWithoutProperties(_ref, _excluded$8);\n\n  const {\n    min = -Infinity,\n    max = Infinity\n  } = settings,\n        _settings = _objectWithoutProperties(settings, _excluded2$2);\n\n  const _value = clamp(parseFloat(value), min, max);\n\n  let suffix;\n\n  if (!Number.isFinite(value)) {\n    const match = String(value).match(/[A-Z]+/i);\n    if (match) suffix = match[0];\n  }\n\n  let step = settings.step;\n\n  if (!step) {\n    if (Number.isFinite(min)) {\n      if (Number.isFinite(max)) step = +(Math.abs(max - min) / 100).toPrecision(1);else step = +(Math.abs(_value - min) / 100).toPrecision(1);\n    } else if (Number.isFinite(max)) step = +(Math.abs(max - _value) / 100).toPrecision(1);\n  }\n\n  const padStep = step ? getStep(step) * 10 : getStep(_value);\n  step = step || padStep / 10;\n  const pad = Math.round(clamp(Math.log10(1 / padStep), 0, 2));\n  return {\n    value: suffix ? _value + suffix : _value,\n    settings: _objectSpread2({\n      initialValue: _value,\n      step,\n      pad,\n      min,\n      max,\n      suffix\n    }, _settings)\n  };\n};\n\nconst sanitizeStep$1 = (v, {\n  step,\n  initialValue\n}) => {\n  const steps = Math.round((v - initialValue) / step);\n  return initialValue + steps * step;\n};\n\nvar props$3 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$3,\n  sanitize: sanitize$3,\n  format: format$1,\n  normalize: normalize$1,\n  sanitizeStep: sanitizeStep$1\n});\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nconst InputContext = createContext({});\n\nfunction useInputContext() {\n  return useContext(InputContext);\n}\n\nconst ThemeContext = createContext(null);\nconst StoreContext = createContext(null);\nconst PanelSettingsContext = createContext(null);\n\nfunction useStoreContext() {\n  return useContext(StoreContext);\n}\n\nfunction usePanelSettingsContext() {\n  return useContext(PanelSettingsContext);\n}\n\nfunction LevaStoreProvider({\n  children,\n  store\n}) {\n  return React.createElement(StoreContext.Provider, {\n    value: store\n  }, children);\n}\n\nconst getDefaultTheme = () => ({\n  colors: {\n    elevation1: '#292d39',\n    elevation2: '#181c20',\n    elevation3: '#373c4b',\n    accent1: '#0066dc',\n    accent2: '#007bff',\n    accent3: '#3c93ff',\n    highlight1: '#535760',\n    highlight2: '#8c92a4',\n    highlight3: '#fefefe',\n    vivid1: '#ffcc00',\n    folderWidgetColor: '$highlight2',\n    folderTextColor: '$highlight3',\n    toolTipBackground: '$highlight3',\n    toolTipText: '$elevation2'\n  },\n  radii: {\n    xs: '2px',\n    sm: '3px',\n    lg: '10px'\n  },\n  space: {\n    xs: '3px',\n    sm: '6px',\n    md: '10px',\n    rowGap: '7px',\n    colGap: '7px'\n  },\n  fonts: {\n    mono: `ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace`,\n    sans: `system-ui, sans-serif`\n  },\n  fontSizes: {\n    root: '11px',\n    toolTip: '$root'\n  },\n  sizes: {\n    rootWidth: '280px',\n    controlWidth: '160px',\n    numberInputMinWidth: '38px',\n    scrubberWidth: '8px',\n    scrubberHeight: '16px',\n    rowHeight: '24px',\n    folderTitleHeight: '20px',\n    checkboxSize: '16px',\n    joystickWidth: '100px',\n    joystickHeight: '100px',\n    colorPickerWidth: '$controlWidth',\n    colorPickerHeight: '100px',\n    imagePreviewWidth: '$controlWidth',\n    imagePreviewHeight: '100px',\n    monitorHeight: '60px',\n    titleBarHeight: '39px'\n  },\n  shadows: {\n    level1: '0 0 9px 0 #00000088',\n    level2: '0 4px 14px #00000033'\n  },\n  borderWidths: {\n    root: '0px',\n    input: '1px',\n    focus: '1px',\n    hover: '1px',\n    active: '1px',\n    folder: '1px'\n  },\n  fontWeights: {\n    label: 'normal',\n    folder: 'normal',\n    button: 'normal'\n  }\n});\n\nfunction createStateClass(value, options) {\n  const [borderColor, bgColor] = value.split(' ');\n  const css = {};\n\n  if (borderColor !== 'none') {\n    css.boxShadow = `${options.inset ? 'inset ' : ''}0 0 0 $borderWidths${[options.key]} $colors${borderColor !== 'default' && borderColor || options.borderColor}`;\n  }\n\n  if (bgColor) {\n    css.backgroundColor = bgColor;\n  }\n\n  return css;\n}\n\nconst utils = {\n  $inputStyle: () => value => createStateClass(value, {\n    key: '$input',\n    borderColor: '$highlight1',\n    inset: true\n  }),\n  $focusStyle: () => value => createStateClass(value, {\n    key: '$focus',\n    borderColor: '$accent2'\n  }),\n  $hoverStyle: () => value => createStateClass(value, {\n    key: '$hover',\n    borderColor: '$accent1',\n    inset: true\n  }),\n  $activeStyle: () => value => createStateClass(value, {\n    key: '$active',\n    borderColor: '$accent1',\n    inset: true\n  })\n};\nconst {\n  styled,\n  css,\n  theme,\n  global: _global,\n  keyframes\n} = createCss({\n  prefix: 'leva',\n  theme: getDefaultTheme(),\n  utils: _objectSpread2(_objectSpread2({}, utils), {}, {\n    $flex: () => () => ({\n      display: 'flex',\n      alignItems: 'center'\n    }),\n    $flexCenter: () => () => ({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }),\n    $reset: () => () => ({\n      outline: 'none',\n      fontSize: 'inherit',\n      fontWeight: 'inherit',\n      color: 'inherit',\n      fontFamily: 'inherit',\n      border: 'none',\n      backgroundColor: 'transparent',\n      appearance: 'none'\n    }),\n    $draggable: () => () => ({\n      touchAction: 'none',\n      WebkitUserDrag: 'none',\n      userSelect: 'none'\n    }),\n    $focus: () => value => ({\n      '&:focus': utils.$focusStyle()(value)\n    }),\n    $focusWithin: () => value => ({\n      '&:focus-within': utils.$focusStyle()(value)\n    }),\n    $hover: () => value => ({\n      '&:hover': utils.$hoverStyle()(value)\n    }),\n    $active: () => value => ({\n      '&:active': utils.$activeStyle()(value)\n    })\n  })\n});\n\nconst globalStyles = _global({\n  '.panel__dragged': {\n    WebkitUserDrag: 'none',\n    userSelect: 'none',\n    input: {\n      userSelect: 'none'\n    },\n    '*': {\n      cursor: 'ew-resize !important'\n    }\n  }\n});\n\nglobalStyles();\n\nfunction mergeTheme(newTheme) {\n  const defaultTheme = getDefaultTheme();\n  if (!newTheme) return {\n    theme: defaultTheme,\n    className: ''\n  };\n  Object.keys(newTheme).forEach(key => {\n    Object.assign(defaultTheme[key], newTheme[key]);\n  });\n  const className = theme(newTheme);\n  return {\n    theme: defaultTheme,\n    className\n  };\n}\n\nfunction useTh(category, key) {\n  const {\n    theme\n  } = useContext(ThemeContext);\n\n  if (!(category in theme) || !(key in theme[category])) {\n    warn(LevaErrors.THEME_ERROR, category, key);\n    return '';\n  }\n\n  let _key = key;\n\n  while (true) {\n    let value = theme[category][_key];\n    if (typeof value === 'string' && value.charAt(0) === '$') _key = value.substr(1);else return value;\n  }\n}\n\nconst StyledInput = styled('input', {\n  $reset: '',\n  padding: '0 $sm',\n  width: 0,\n  minWidth: 0,\n  flex: 1,\n  height: '100%',\n  variants: {\n    levaType: {\n      number: {\n        textAlign: 'right'\n      }\n    }\n  }\n});\nconst InnerLabel = styled('div', {\n  $draggable: '',\n  height: '100%',\n  $flexCenter: '',\n  position: 'relative',\n  padding: '0 $xs',\n  fontSize: '0.8em',\n  opacity: 0.8,\n  cursor: 'default',\n  [`& + ${StyledInput}`]: {\n    paddingLeft: 0\n  }\n});\nconst InnerNumberLabel = styled(InnerLabel, {\n  cursor: 'ew-resize',\n  marginRight: '-$xs',\n  textTransform: 'uppercase',\n  opacity: 0.3,\n  '&:hover': {\n    opacity: 1\n  },\n  variants: {\n    dragging: {\n      true: {\n        backgroundColor: '$accent2',\n        opacity: 1\n      }\n    }\n  }\n});\nconst InputContainer = styled('div', {\n  $flex: '',\n  position: 'relative',\n  borderRadius: '$sm',\n  overflow: 'hidden',\n  color: 'inherit',\n  height: '$rowHeight',\n  backgroundColor: '$elevation3',\n  $inputStyle: '$elevation1',\n  $hover: '',\n  $focusWithin: ''\n});\nconst _excluded$7 = [\"innerLabel\", \"value\", \"onUpdate\", \"onChange\", \"onKeyDown\", \"type\", \"id\"],\n      _excluded2$1 = [\"onUpdate\"];\n\nfunction ValueInput(_ref) {\n  let {\n    innerLabel,\n    value,\n    onUpdate,\n    onChange,\n    onKeyDown,\n    type,\n    id\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$7);\n\n  const {\n    id: _id,\n    emitOnEditStart,\n    emitOnEditEnd\n  } = useInputContext();\n  const inputId = id || _id;\n  const inputRef = useRef(null);\n  const update = useCallback(fn => event => {\n    const _value = event.currentTarget.value;\n    fn(_value);\n  }, []);\n  React.useEffect(() => {\n    const ref = inputRef.current;\n\n    const _onUpdate = update(value => {\n      onUpdate(value);\n      emitOnEditEnd();\n    });\n\n    ref === null || ref === void 0 ? void 0 : ref.addEventListener('blur', _onUpdate);\n    return () => ref === null || ref === void 0 ? void 0 : ref.removeEventListener('blur', _onUpdate);\n  }, [update, onUpdate, emitOnEditEnd]);\n  const onKeyPress = useCallback(event => {\n    if (event.key === 'Enter') {\n      update(onUpdate)(event);\n    }\n  }, [update, onUpdate]);\n  return React.createElement(InputContainer, null, innerLabel && typeof innerLabel === 'string' ? React.createElement(InnerLabel, null, innerLabel) : innerLabel, React.createElement(StyledInput, _extends({\n    levaType: type,\n    ref: inputRef,\n    id: inputId,\n    type: \"text\",\n    autoComplete: \"off\",\n    spellCheck: \"false\",\n    value: value,\n    onChange: update(onChange),\n    onFocus: () => emitOnEditStart(),\n    onKeyPress: onKeyPress,\n    onKeyDown: onKeyDown\n  }, props)));\n}\n\nfunction NumberInput(_ref2) {\n  let {\n    onUpdate\n  } = _ref2,\n      props = _objectWithoutProperties(_ref2, _excluded2$1);\n\n  const _onUpdate = useCallback(v => onUpdate(parseNumber(v)), [onUpdate]);\n\n  const onKeyDown = useCallback(event => {\n    const dir = event.key === 'ArrowUp' ? 1 : event.key === 'ArrowDown' ? -1 : 0;\n\n    if (dir) {\n      event.preventDefault();\n      const step = event.altKey ? 0.1 : event.shiftKey ? 10 : 1;\n      onUpdate(v => parseFloat(v) + dir * step);\n    }\n  }, [onUpdate]);\n  return React.createElement(ValueInput, _extends({}, props, {\n    onUpdate: _onUpdate,\n    onKeyDown: onKeyDown,\n    type: \"number\"\n  }));\n}\n\nconst StyledFolder = styled('div', {});\nconst StyledWrapper = styled('div', {\n  position: 'relative',\n  background: '$elevation2',\n  transition: 'height 300ms ease',\n  variants: {\n    fill: {\n      true: {},\n      false: {}\n    },\n    flat: {\n      false: {},\n      true: {}\n    },\n    isRoot: {\n      true: {},\n      false: {\n        paddingLeft: '$md',\n        '&::after': {\n          content: '\"\"',\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          width: '$borderWidths$folder',\n          height: '100%',\n          backgroundColor: '$folderWidgetColor',\n          opacity: 0.4,\n          transform: 'translateX(-50%)'\n        }\n      }\n    }\n  },\n  compoundVariants: [{\n    isRoot: true,\n    fill: false,\n    css: {\n      overflowY: 'auto',\n      maxHeight: 'calc(100vh - 20px - $$titleBarHeight)'\n    }\n  }, {\n    isRoot: true,\n    flat: false,\n    css: {\n      borderRadius: '$lg'\n    }\n  }]\n});\nconst StyledTitle = styled('div', {\n  $flex: '',\n  color: '$folderTextColor',\n  userSelect: 'none',\n  cursor: 'pointer',\n  height: '$folderTitleHeight',\n  fontWeight: '$folder',\n  '> svg': {\n    marginLeft: -4,\n    marginRight: 4,\n    cursor: 'pointer',\n    fill: '$folderWidgetColor',\n    opacity: 0.6\n  },\n  '&:hover > svg': {\n    fill: '$folderWidgetColor'\n  },\n  [`&:hover + ${StyledWrapper}::after`]: {\n    opacity: 0.6\n  },\n  [`${StyledFolder}:hover > & + ${StyledWrapper}::after`]: {\n    opacity: 0.6\n  },\n  [`${StyledFolder}:hover > & > svg`]: {\n    opacity: 1\n  }\n});\nconst StyledContent = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '100%',\n  rowGap: '$rowGap',\n  transition: 'opacity 250ms ease',\n  variants: {\n    toggled: {\n      true: {\n        opacity: 1,\n        transitionDelay: '250ms'\n      },\n      false: {\n        opacity: 0,\n        transitionDelay: '0ms',\n        pointerEvents: 'none'\n      }\n    },\n    isRoot: {\n      true: {\n        '& > div': {\n          paddingLeft: '$md',\n          paddingRight: '$md'\n        },\n        '& > div:first-of-type': {\n          paddingTop: '$sm'\n        },\n        '& > div:last-of-type': {\n          paddingBottom: '$sm'\n        },\n        [`> ${StyledFolder}:not(:first-of-type)`]: {\n          paddingTop: '$sm',\n          marginTop: '$md',\n          borderTop: '$borderWidths$folder solid $colors$elevation1'\n        }\n      }\n    }\n  }\n});\nconst StyledRow = styled('div', {\n  position: 'relative',\n  zIndex: 100,\n  display: 'grid',\n  rowGap: '$rowGap',\n  gridTemplateRows: 'minmax($sizes$rowHeight, max-content)',\n  alignItems: 'center',\n  color: '$highlight2',\n  [`${StyledContent} > &`]: {\n    '&:first-of-type': {\n      marginTop: '$rowGap'\n    },\n    '&:last-of-type': {\n      marginBottom: '$rowGap'\n    }\n  },\n  '&:hover,&:focus-within': {\n    color: '$highlight3'\n  }\n});\nconst StyledInputRow = styled(StyledRow, {\n  gridTemplateColumns: 'auto $sizes$controlWidth',\n  columnGap: '$colGap'\n});\nconst CopyLabelContainer = styled('div', {\n  $flex: '',\n  height: '100%',\n  position: 'relative',\n  overflow: 'hidden',\n  '& > div': {\n    marginLeft: '$colGap',\n    padding: '0 $xs',\n    opacity: 0.4\n  },\n  '& > div:hover': {\n    opacity: 0.8\n  },\n  '& > div > svg': {\n    display: 'none',\n    cursor: 'pointer',\n    width: 13,\n    minWidth: 13,\n    height: 13,\n    backgroundColor: '$elevation2'\n  },\n  '&:hover > div > svg': {\n    display: 'block'\n  },\n  variants: {\n    align: {\n      top: {\n        height: '100%',\n        alignItems: 'flex-start',\n        paddingTop: '$sm'\n      }\n    }\n  }\n});\nconst StyledOptionalToggle = styled('input', {\n  $reset: '',\n  height: 0,\n  width: 0,\n  opacity: 0,\n  margin: 0,\n  '& + label': {\n    position: 'relative',\n    $flexCenter: '',\n    height: '100%',\n    userSelect: 'none',\n    cursor: 'pointer',\n    paddingLeft: 2,\n    paddingRight: '$sm',\n    pointerEvents: 'auto'\n  },\n  '& + label:after': {\n    content: '\"\"',\n    width: 6,\n    height: 6,\n    backgroundColor: '$elevation3',\n    borderRadius: '50%',\n    $activeStyle: ''\n  },\n  '&:focus + label:after': {\n    $focusStyle: ''\n  },\n  '& + label:active:after': {\n    backgroundColor: '$accent1',\n    $focusStyle: ''\n  },\n  '&:checked + label:after': {\n    backgroundColor: '$accent1'\n  }\n});\nconst StyledInputWrapper$1 = styled('div', {\n  opacity: 1,\n  variants: {\n    disabled: {\n      true: {\n        opacity: 0.6,\n        pointerEvents: 'none'\n      }\n    }\n  }\n});\nconst StyledLabel = styled('label', {\n  fontWeight: '$label',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n  '& > svg': {\n    display: 'block'\n  }\n});\nconst Overlay = styled('div', {\n  position: 'fixed',\n  top: 0,\n  bottom: 0,\n  right: 0,\n  left: 0,\n  zIndex: 1000,\n  userSelect: 'none'\n});\nconst StyledToolTipContent = styled('div', {\n  background: '$toolTipBackground',\n  fontFamily: '$sans',\n  fontSize: '$toolTip',\n  padding: '$xs $sm',\n  color: '$toolTipText',\n  borderRadius: '$xs',\n  boxShadow: '$level2',\n  maxWidth: 260\n});\nconst ToolTipArrow = styled(Arrow, {\n  fill: '$toolTipBackground'\n});\n\nfunction Portal({\n  children\n}) {\n  const {\n    className\n  } = useContext(ThemeContext);\n  return React.createElement(P.Root, {\n    className: className\n  }, children);\n}\n\nconst _excluded$6 = [\"align\"];\n\nfunction OptionalToggle() {\n  const {\n    id,\n    disable,\n    disabled\n  } = useInputContext();\n  return React.createElement(React.Fragment, null, React.createElement(StyledOptionalToggle, {\n    id: id + '__disable',\n    type: \"checkbox\",\n    checked: !disabled,\n    onChange: () => disable(!disabled)\n  }), React.createElement(\"label\", {\n    htmlFor: id + '__disable'\n  }));\n}\n\nfunction RawLabel(props) {\n  const {\n    id,\n    optional,\n    hint\n  } = useInputContext();\n  const htmlFor = props.htmlFor || (id ? {\n    htmlFor: id\n  } : null);\n  const title = !hint && typeof props.children === 'string' ? {\n    title: props.children\n  } : null;\n  return React.createElement(React.Fragment, null, optional && React.createElement(OptionalToggle, null), hint !== undefined ? React.createElement(RadixTooltip.Root, null, React.createElement(RadixTooltip.Trigger, _extends({\n    as: StyledLabel\n  }, htmlFor, props)), React.createElement(RadixTooltip.Content, {\n    side: \"top\",\n    sideOffset: 2\n  }, React.createElement(StyledToolTipContent, null, hint, React.createElement(ToolTipArrow, null)))) : React.createElement(StyledLabel, _extends({}, htmlFor, title, props)));\n}\n\nfunction Label(_ref) {\n  let {\n    align\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$6);\n\n  const {\n    value,\n    label,\n    key\n  } = useInputContext();\n  const {\n    hideCopyButton\n  } = usePanelSettingsContext();\n  const copyEnabled = !hideCopyButton && key !== undefined;\n  const [copied, setCopied] = useState(false);\n\n  const handleClick = async () => {\n    try {\n      await navigator.clipboard.writeText(JSON.stringify({\n        [key]: value !== null && value !== void 0 ? value : ''\n      }));\n      setCopied(true);\n    } catch (_unused) {\n      warn(LevaErrors.CLIPBOARD_ERROR, {\n        [key]: value\n      });\n    }\n  };\n\n  return React.createElement(CopyLabelContainer, {\n    align: align,\n    onPointerLeave: () => setCopied(false)\n  }, React.createElement(RawLabel, props), copyEnabled && React.createElement(\"div\", {\n    title: `Click to copy ${typeof label === 'string' ? label : key} value`\n  }, !copied ? React.createElement(\"svg\", {\n    onClick: handleClick,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    d: \"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\"\n  }), React.createElement(\"path\", {\n    d: \"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\"\n  })) : React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    d: \"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\"\n  }), React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n    clipRule: \"evenodd\"\n  }))));\n}\n\nconst _excluded$5 = [\"toggled\"];\nconst Svg = styled('svg', {\n  fill: 'currentColor',\n  transition: 'transform 350ms ease, fill 250ms ease'\n});\n\nfunction Chevron(_ref) {\n  let {\n    toggled\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$5);\n\n  return React.createElement(Svg, _extends({\n    width: \"9\",\n    height: \"5\",\n    viewBox: \"0 0 9 5\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    style: {\n      transform: `rotate(${toggled ? 0 : -90}deg)`\n    }\n  }, props), React.createElement(\"path\", {\n    d: \"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z\"\n  }));\n}\n\nconst _excluded$4 = [\"input\"];\n\nfunction Row(_ref) {\n  let {\n    input\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$4);\n\n  if (input) return React.createElement(StyledInputRow, props);\n  return React.createElement(StyledRow, props);\n}\n\nfunction useInputSetters({\n  value,\n  type,\n  settings,\n  setValue\n}) {\n  const [displayValue, setDisplayValue] = useState(format$2(type, value, settings));\n  const previousValueRef = useRef(value);\n  const settingsRef = useRef(settings);\n  settingsRef.current = settings;\n  const setFormat = useCallback(v => setDisplayValue(format$2(type, v, settingsRef.current)), [type]);\n  const onUpdate = useCallback(updatedValue => {\n    try {\n      setValue(updatedValue);\n    } catch (error) {\n      const {\n        type,\n        previousValue\n      } = error;\n      if (type !== 'LEVA_ERROR') throw error;\n      setFormat(previousValue);\n    }\n  }, [setFormat, setValue]);\n  useEffect(() => {\n    if (!dequal(value, previousValueRef.current)) {\n      setFormat(value);\n    }\n\n    previousValueRef.current = value;\n  }, [value, setFormat]);\n  return {\n    displayValue,\n    onChange: setDisplayValue,\n    onUpdate\n  };\n}\n\nfunction useDrag(handler, config) {\n  const {\n    emitOnEditStart,\n    emitOnEditEnd\n  } = useInputContext();\n  return useDrag$1(state => {\n    if (state.first) {\n      document.body.classList.add('panel__dragged');\n      emitOnEditStart();\n    }\n\n    const result = handler(state);\n\n    if (state.last) {\n      document.body.classList.remove('panel__dragged');\n      emitOnEditEnd();\n    }\n\n    return result;\n  }, config);\n}\n\nfunction useCanvas2d(fn) {\n  const canvas = useRef(null);\n  const ctx = useRef(null);\n  const hasFired = useRef(false);\n  useEffect(() => {\n    const handleCanvas = debounce(() => {\n      canvas.current.width = canvas.current.offsetWidth * window.devicePixelRatio;\n      canvas.current.height = canvas.current.offsetHeight * window.devicePixelRatio;\n      fn(canvas.current, ctx.current);\n    }, 250);\n    window.addEventListener('resize', handleCanvas);\n\n    if (!hasFired.current) {\n      handleCanvas();\n      hasFired.current = true;\n    }\n\n    return () => window.removeEventListener('resize', handleCanvas);\n  }, [fn]);\n  useEffect(() => {\n    ctx.current = canvas.current.getContext('2d');\n  }, []);\n  return [canvas, ctx];\n}\n\nfunction useTransform() {\n  const ref = useRef(null);\n  const local = useRef({\n    x: 0,\n    y: 0\n  });\n  const set = useCallback(point => {\n    Object.assign(local.current, point);\n    if (ref.current) ref.current.style.transform = `translate3d(${local.current.x}px, ${local.current.y}px, 0)`;\n  }, []);\n  return [ref, set];\n}\n\nconst _excluded$3 = [\"__refCount\"];\n\nconst getInputAtPath = (data, path) => {\n  if (!data[path]) return null;\n\n  const _data$path = data[path],\n        input = _objectWithoutProperties(_data$path, _excluded$3);\n\n  return input;\n};\n\nfunction useInput(path) {\n  const store = useStoreContext();\n  const [state, setState] = useState(getInputAtPath(store.getData(), path));\n  const set = useCallback(value => store.setValueAtPath(path, value, true), [path, store]);\n  const setSettings = useCallback(settings => store.setSettingsAtPath(path, settings), [path, store]);\n  const disable = useCallback(flag => store.disableInputAtPath(path, flag), [path, store]);\n  const emitOnEditStart = useCallback(() => store.emitOnEditStart(path), [path, store]);\n  const emitOnEditEnd = useCallback(() => store.emitOnEditEnd(path), [path, store]);\n  useEffect(() => {\n    setState(getInputAtPath(store.getData(), path));\n    const unsub = store.useStore.subscribe(setState, s => getInputAtPath(s.data, path), shallow);\n    return () => unsub();\n  }, [store, path]);\n  return [state, {\n    set,\n    setSettings,\n    disable,\n    storeId: store.storeId,\n    emitOnEditStart,\n    emitOnEditEnd\n  }];\n}\n\nconst RangeGrid = styled('div', {\n  variants: {\n    hasRange: {\n      true: {\n        position: 'relative',\n        display: 'grid',\n        gridTemplateColumns: 'auto $sizes$numberInputMinWidth',\n        columnGap: '$colGap',\n        alignItems: 'center'\n      }\n    }\n  }\n});\nconst Range = styled('div', {\n  position: 'relative',\n  width: '100%',\n  height: 2,\n  borderRadius: '$xs',\n  backgroundColor: '$elevation1'\n});\nconst Scrubber = styled('div', {\n  position: 'absolute',\n  width: '$scrubberWidth',\n  height: '$scrubberHeight',\n  borderRadius: '$xs',\n  boxShadow: '0 0 0 2px $colors$elevation2',\n  backgroundColor: '$accent2',\n  cursor: 'pointer',\n  $active: 'none $accent1',\n  $hover: 'none $accent3',\n  variants: {\n    position: {\n      left: {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0,\n        transform: 'translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))'\n      },\n      right: {\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        transform: 'translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))'\n      }\n    }\n  }\n});\nconst RangeWrapper = styled('div', {\n  position: 'relative',\n  $flex: '',\n  height: '100%',\n  cursor: 'pointer',\n  touchAction: 'none'\n});\nconst Indicator = styled('div', {\n  position: 'absolute',\n  height: '100%',\n  backgroundColor: '$accent2'\n});\n\nfunction RangeSlider({\n  value,\n  min,\n  max,\n  onDrag,\n  step,\n  initialValue\n}) {\n  const ref = useRef(null);\n  const scrubberRef = useRef(null);\n  const rangeWidth = useRef(0);\n  const scrubberWidth = useTh('sizes', 'scrubberWidth');\n  const bind = useDrag(({\n    event,\n    first,\n    xy: [x],\n    movement: [mx],\n    memo\n  }) => {\n    if (first) {\n      const {\n        width,\n        left\n      } = ref.current.getBoundingClientRect();\n      rangeWidth.current = width - parseFloat(scrubberWidth);\n      const targetIsScrub = (event === null || event === void 0 ? void 0 : event.target) === scrubberRef.current;\n      memo = targetIsScrub ? value : invertedRange((x - left) / width, min, max);\n    }\n\n    const newValue = memo + invertedRange(mx / rangeWidth.current, 0, max - min);\n    onDrag(sanitizeStep$1(newValue, {\n      step,\n      initialValue\n    }));\n    return memo;\n  });\n  const pos = range(value, min, max);\n  return React.createElement(RangeWrapper, _extends({\n    ref: ref\n  }, bind()), React.createElement(Range, null, React.createElement(Indicator, {\n    style: {\n      left: 0,\n      right: `${(1 - pos) * 100}%`\n    }\n  })), React.createElement(Scrubber, {\n    ref: scrubberRef,\n    style: {\n      left: `calc(${pos} * (100% - ${scrubberWidth}))`\n    }\n  }));\n}\n\nconst DraggableLabel = React.memo(({\n  label,\n  onUpdate,\n  step,\n  innerLabelTrim\n}) => {\n  const [dragging, setDragging] = useState(false);\n  const bind = useDrag(({\n    active,\n    delta: [dx],\n    event,\n    memo: _memo = 0\n  }) => {\n    setDragging(active);\n    _memo += dx / 2;\n\n    if (Math.abs(_memo) >= 1) {\n      onUpdate(v => parseFloat(v) + Math.floor(_memo) * step * multiplyStep(event));\n      _memo = 0;\n    }\n\n    return _memo;\n  });\n  return React.createElement(InnerNumberLabel, _extends({\n    dragging: dragging,\n    title: label.length > 1 ? label : ''\n  }, bind()), label.slice(0, innerLabelTrim));\n});\n\nfunction Number$1({\n  label,\n  id,\n  displayValue,\n  onUpdate,\n  onChange,\n  settings,\n  innerLabelTrim = 1\n}) {\n  const InnerLabel = innerLabelTrim > 0 && React.createElement(DraggableLabel, {\n    label: label,\n    step: settings.step,\n    onUpdate: onUpdate,\n    innerLabelTrim: innerLabelTrim\n  });\n  return React.createElement(NumberInput, {\n    id: id,\n    value: String(displayValue),\n    onUpdate: onUpdate,\n    onChange: onChange,\n    innerLabel: InnerLabel\n  });\n}\n\nfunction NumberComponent() {\n  const props = useInputContext();\n  const {\n    label,\n    value,\n    onUpdate,\n    settings,\n    id\n  } = props;\n  const {\n    min,\n    max\n  } = settings;\n  const hasRange = max !== Infinity && min !== -Infinity;\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(RangeGrid, {\n    hasRange: hasRange\n  }, hasRange && React.createElement(RangeSlider, _extends({\n    value: parseFloat(value),\n    onDrag: onUpdate\n  }, settings)), React.createElement(Number$1, _extends({}, props, {\n    id: id,\n    label: \"value\",\n    innerLabelTrim: hasRange ? 0 : 1\n  }))));\n}\n\nconst {\n  sanitizeStep\n} = props$3,\n      rest = _objectWithoutProperties(props$3, [\"sanitizeStep\"]);\n\nvar number = createInternalPlugin(_objectSpread2({\n  component: NumberComponent\n}, rest));\n\nconst schema$2 = (_o, s) => v8n().schema({\n  options: v8n().passesAnyOf(v8n().object(), v8n().array())\n}).test(s);\n\nconst sanitize$2 = (value, {\n  values\n}) => {\n  if (values.indexOf(value) < 0) throw Error(`Selected value doesn't match Select options`);\n  return value;\n};\n\nconst format = (value, {\n  values\n}) => {\n  return values.indexOf(value);\n};\n\nconst normalize = input => {\n  let {\n    value,\n    options\n  } = input;\n  let keys;\n  let values;\n\n  if (Array.isArray(options)) {\n    values = options;\n    keys = options.map(o => String(o));\n  } else {\n    values = Object.values(options);\n    keys = Object.keys(options);\n  }\n\n  if (!('value' in input)) value = values[0];else if (!values.includes(value)) {\n    keys.unshift(String(value));\n    values.unshift(value);\n  }\n  if (!Object.values(options).includes(value)) options[String(value)] = value;\n  return {\n    value,\n    settings: {\n      keys,\n      values\n    }\n  };\n};\n\nvar props$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$2,\n  sanitize: sanitize$2,\n  format: format,\n  normalize: normalize\n});\nconst SelectContainer = styled('div', {\n  $flexCenter: '',\n  position: 'relative',\n  '> svg': {\n    pointerEvents: 'none',\n    position: 'absolute',\n    right: '$md'\n  }\n});\nconst NativeSelect = styled('select', {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%',\n  opacity: 0\n});\nconst PresentationalSelect = styled('div', {\n  display: 'flex',\n  alignItems: 'center',\n  width: '100%',\n  height: '$rowHeight',\n  backgroundColor: '$elevation3',\n  borderRadius: '$sm',\n  padding: '0 $sm',\n  cursor: 'pointer',\n  [`${NativeSelect}:focus + &`]: {\n    $focusStyle: ''\n  },\n  [`${NativeSelect}:hover + &`]: {\n    $hoverStyle: ''\n  }\n});\n\nfunction Select({\n  displayValue,\n  value,\n  onUpdate,\n  id,\n  settings\n}) {\n  const {\n    keys,\n    values\n  } = settings;\n  const lastDisplayedValue = useRef();\n\n  if (value === values[displayValue]) {\n    lastDisplayedValue.current = keys[displayValue];\n  }\n\n  return React.createElement(SelectContainer, null, React.createElement(NativeSelect, {\n    id: id,\n    value: displayValue,\n    onChange: e => onUpdate(values[Number(e.currentTarget.value)])\n  }, keys.map((key, index) => React.createElement(\"option\", {\n    key: key,\n    value: index\n  }, key))), React.createElement(PresentationalSelect, null, lastDisplayedValue.current), React.createElement(Chevron, {\n    toggled: true\n  }));\n}\n\nfunction SelectComponent() {\n  const {\n    label,\n    value,\n    displayValue,\n    onUpdate,\n    id,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Select, {\n    id: id,\n    value: value,\n    displayValue: displayValue,\n    onUpdate: onUpdate,\n    settings: settings\n  }));\n}\n\nvar select = createInternalPlugin(_objectSpread2({\n  component: SelectComponent\n}, props$2));\n\nconst schema$1 = o => v8n().string().test(o);\n\nconst sanitize$1 = v => {\n  if (typeof v !== 'string') throw Error(`Invalid string`);\n  return v;\n};\n\nvar props$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$1,\n  sanitize: sanitize$1\n});\nconst _excluded$2 = [\"displayValue\", \"onUpdate\", \"onChange\"];\n\nfunction String$1(_ref) {\n  let {\n    displayValue,\n    onUpdate,\n    onChange\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$2);\n\n  return React.createElement(ValueInput, _extends({\n    value: displayValue,\n    onUpdate: onUpdate,\n    onChange: onChange\n  }, props));\n}\n\nfunction StringComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    onChange\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(String$1, {\n    displayValue: displayValue,\n    onUpdate: onUpdate,\n    onChange: onChange\n  }));\n}\n\nvar string = createInternalPlugin(_objectSpread2({\n  component: StringComponent\n}, props$1));\n\nconst schema = o => v8n().boolean().test(o);\n\nconst sanitize = v => {\n  if (typeof v !== 'boolean') throw Error('Invalid boolean');\n  return v;\n};\n\nvar props = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema,\n  sanitize: sanitize\n});\nconst StyledInputWrapper = styled('div', {\n  position: 'relative',\n  $flex: '',\n  height: '$rowHeight',\n  input: {\n    $reset: '',\n    height: 0,\n    width: 0,\n    opacity: 0,\n    margin: 0\n  },\n  label: {\n    position: 'relative',\n    $flexCenter: '',\n    userSelect: 'none',\n    cursor: 'pointer',\n    height: '$checkboxSize',\n    width: '$checkboxSize',\n    backgroundColor: '$elevation3',\n    borderRadius: '$sm',\n    $hover: ''\n  },\n  'input:focus + label': {\n    $focusStyle: ''\n  },\n  'input:focus:checked + label, input:checked + label:hover': {\n    $hoverStyle: '$accent3'\n  },\n  'input + label:active': {\n    backgroundColor: '$accent1'\n  },\n  'input:checked + label:active': {\n    backgroundColor: '$accent1'\n  },\n  'label > svg': {\n    display: 'none',\n    width: '90%',\n    height: '90%',\n    stroke: '$highlight3'\n  },\n  'input:checked + label': {\n    backgroundColor: '$accent2'\n  },\n  'input:checked + label > svg': {\n    display: 'block'\n  }\n});\n\nfunction Boolean({\n  value,\n  onUpdate,\n  id\n}) {\n  return React.createElement(StyledInputWrapper, null, React.createElement(\"input\", {\n    id: id,\n    type: \"checkbox\",\n    checked: value,\n    onChange: e => onUpdate(e.currentTarget.checked)\n  }), React.createElement(\"label\", {\n    htmlFor: id\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\"\n  }, React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M5 13l4 4L19 7\"\n  }))));\n}\n\nfunction BooleanComponent() {\n  const {\n    label,\n    value,\n    onUpdate,\n    id\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Boolean, {\n    value: value,\n    onUpdate: onUpdate,\n    id: id\n  }));\n}\n\nvar boolean = createInternalPlugin(_objectSpread2({\n  component: BooleanComponent\n}, props));\nconst _excluded$1 = [\"locked\"];\n\nfunction Coordinate({\n  value,\n  id,\n  valueKey,\n  settings,\n  onUpdate,\n  innerLabelTrim\n}) {\n  const valueRef = useRef(value[valueKey]);\n  valueRef.current = value[valueKey];\n  const setValue = useCallback(newValue => onUpdate({\n    [valueKey]: sanitizeValue({\n      type: 'NUMBER',\n      value: valueRef.current,\n      settings\n    }, newValue)\n  }), [onUpdate, settings, valueKey]);\n  const number = useInputSetters({\n    type: 'NUMBER',\n    value: value[valueKey],\n    settings,\n    setValue\n  });\n  return React.createElement(Number$1, {\n    id: id,\n    label: valueKey,\n    value: value[valueKey],\n    displayValue: number.displayValue,\n    onUpdate: number.onUpdate,\n    onChange: number.onChange,\n    settings: settings,\n    innerLabelTrim: innerLabelTrim\n  });\n}\n\nconst Container = styled('div', {\n  display: 'grid',\n  columnGap: '$colGap',\n  gridAutoFlow: 'column dense',\n  alignItems: 'center',\n  variants: {\n    withLock: {\n      true: {\n        gridTemplateColumns: '10px auto',\n        '> svg': {\n          cursor: 'pointer'\n        }\n      }\n    }\n  }\n});\n\nfunction Lock(_ref) {\n  let {\n    locked\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$1);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"10\",\n    height: \"10\",\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), locked ? React.createElement(\"path\", {\n    d: \"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\"\n  }) : React.createElement(\"path\", {\n    d: \"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nfunction Vector({\n  value,\n  onUpdate,\n  settings,\n  innerLabelTrim\n}) {\n  const {\n    id,\n    setSettings\n  } = useInputContext();\n  const {\n    lock,\n    locked\n  } = settings;\n  return React.createElement(Container, {\n    withLock: lock\n  }, lock && React.createElement(Lock, {\n    locked: locked,\n    onClick: () => setSettings({\n      locked: !locked\n    })\n  }), Object.keys(value).map((key, i) => React.createElement(Coordinate, {\n    id: i === 0 ? id : `${id}.${key}`,\n    key: key,\n    valueKey: key,\n    value: value,\n    settings: settings[key],\n    onUpdate: onUpdate,\n    innerLabelTrim: innerLabelTrim\n  })));\n}\n\nconst normalizeKeyedNumberSettings = (value, settings) => {\n  const _settings = {};\n  let maxStep = 0;\n  let minPad = Infinity;\n  Object.entries(value).forEach(([key, v]) => {\n    _settings[key] = normalize$1(_objectSpread2({\n      value: v\n    }, settings[key])).settings;\n    maxStep = Math.max(maxStep, _settings[key].step);\n    minPad = Math.min(minPad, _settings[key].pad);\n  });\n\n  for (let key in _settings) {\n    const {\n      step,\n      min,\n      max\n    } = settings[key] || {};\n\n    if (!isFinite(step) && (!isFinite(min) || !isFinite(max))) {\n      _settings[key].step = maxStep;\n      _settings[key].pad = minPad;\n    }\n  }\n\n  return _settings;\n};\n\nconst _excluded = [\"lock\"],\n      _excluded2 = [\"value\"];\n\nfunction getVectorSchema(dimension) {\n  const isVectorArray = v8n().array().length(dimension).every.number();\n\n  const isVectorObject = o => {\n    if (!o || typeof o !== 'object') return false;\n    const values = Object.values(o);\n    return values.length === dimension && values.every(v => isFinite(v));\n  };\n\n  return o => {\n    return isVectorArray.test(o) || isVectorObject(o);\n  };\n}\n\nfunction getVectorType(value) {\n  return Array.isArray(value) ? 'array' : 'object';\n}\n\nfunction convert(value, format, keys) {\n  if (getVectorType(value) === format) return value;\n  return format === 'array' ? Object.values(value) : mapArrayToKeys(value, keys);\n}\n\nconst sanitizeVector = (value, settings, previousValue) => {\n  const _value = convert(value, 'object', settings.keys);\n\n  for (let key in _value) _value[key] = sanitize$3(_value[key], settings[key]);\n\n  const _valueKeys = Object.keys(_value);\n\n  let newValue = {};\n  if (_valueKeys.length === settings.keys.length) newValue = _value;else {\n    const _previousValue = convert(previousValue, 'object', settings.keys);\n\n    if (_valueKeys.length === 1 && settings.locked) {\n      const lockedKey = _valueKeys[0];\n      const lockedCoordinate = _value[lockedKey];\n      const previousLockedCoordinate = _previousValue[lockedKey];\n      const ratio = previousLockedCoordinate !== 0 ? lockedCoordinate / previousLockedCoordinate : 1;\n\n      for (let key in _previousValue) {\n        if (key === lockedKey) newValue[lockedKey] = lockedCoordinate;else newValue[key] = _previousValue[key] * ratio;\n      }\n    } else {\n      newValue = _objectSpread2(_objectSpread2({}, _previousValue), _value);\n    }\n  }\n  return convert(newValue, settings.format, settings.keys);\n};\n\nconst formatVector = (value, settings) => convert(value, 'object', settings.keys);\n\nconst isNumberSettings = o => !!o && ('step' in o || 'min' in o || 'max' in o);\n\nfunction normalizeVector(value, settings, defaultKeys = []) {\n  const {\n    lock = false\n  } = settings,\n        _settings = _objectWithoutProperties(settings, _excluded);\n\n  const format = Array.isArray(value) ? 'array' : 'object';\n  const keys = format === 'object' ? Object.keys(value) : defaultKeys;\n\n  const _value = convert(value, 'object', keys);\n\n  const mergedSettings = isNumberSettings(_settings) ? keys.reduce((acc, k) => Object.assign(acc, {\n    [k]: _settings\n  }), {}) : _settings;\n  const numberSettings = normalizeKeyedNumberSettings(_value, mergedSettings);\n  return {\n    value: format === 'array' ? value : _value,\n    settings: _objectSpread2(_objectSpread2({}, numberSettings), {}, {\n      format,\n      keys,\n      lock,\n      locked: false\n    })\n  };\n}\n\nfunction getVectorPlugin(defaultKeys) {\n  return {\n    schema: getVectorSchema(defaultKeys.length),\n    normalize: _ref => {\n      let {\n        value\n      } = _ref,\n          settings = _objectWithoutProperties(_ref, _excluded2);\n\n      return normalizeVector(value, settings, defaultKeys);\n    },\n    format: (value, settings) => formatVector(value, settings),\n    sanitize: (value, settings, prevValue) => sanitizeVector(value, settings, prevValue)\n  };\n}\n\nexport { register as $, StyledTitle as A, useInputSetters as B, Chevron as C, Plugins as D, InputContext as E, StyledInputWrapper$1 as F, useCanvas2d as G, useInput as H, Indicator as I, log as J, StyledWrapper as K, Label as L, StyledContent as M, useStoreContext as N, Overlay as O, Portal as P, StyledFolder as Q, Row as R, Scrubber as S, StyledInputRow as T, debounce as U, ValueInput as V, PanelSettingsContext as W, StoreContext as X, mergeTheme as Y, ThemeContext as Z, _objectSpread2 as _, Vector as a, LevaInputs as a0, select as a1, number as a2, string as a3, boolean as a4, LevaStoreProvider as a5, String$1 as a6, Number$1 as a7, Boolean as a8, Select as a9, InnerLabel as aa, pad as ab, evaluate as ac, createPlugin as ad, keyframes as ae, getVectorSchema as af, getVectorType as ag, sanitizeVector as ah, formatVector as ai, normalizeVector as aj, useTransform as b, createInternalPlugin as c, useTh as d, useDrag as e, _extends as f, getVectorPlugin as g, clamp as h, _objectWithoutProperties as i, invertedRange as j, sanitizeStep as k, RangeWrapper as l, multiplyStep as m, normalizeKeyedNumberSettings as n, omit as o, pick as p, Range as q, range as r, styled as s, getUid as t, useInputContext as u, SpecialInputs as v, warn as w, LevaErrors as x, updateInput as y, normalizeInput as z };","map":{"version":3,"sources":["/Users/icoco/Workspace/2022/prj/webgl/r3f-app/node_modules/leva/dist/vector-plugin-ffba4822.esm.js"],"names":["React","createContext","useContext","useRef","useCallback","useState","useEffect","P","dequal","shallow","v8n","createCss","useDrag","useDrag$1","RadixTooltip","Arrow","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","LevaErrors","ErrorList","UNSUPPORTED_INPUT","type","path","NO_COMPONENT_FOR_TYPE","UNKNOWN_INPUT","value","DUPLICATE_KEYS","prevPath","ALREADY_REGISTERED_TYPE","CLIPBOARD_ERROR","THEME_ERROR","category","PATH_DOESNT_EXIST","INPUT_TYPE_OVERRIDE","wrongType","EMPTY_KEY","_log","fn","errorType","args","message","rest","console","warn","bind","log","_excluded$a","_excluded2$4","_excluded3$1","Schemas","Plugins","getValueType","_ref","settings","checker","undefined","register","_ref2","schema","plugin","push","getUniqueType","Math","random","toString","substr","createInternalPlugin","createPlugin","input","__customInput","normalize$2","data","normalize","_normalize","sanitize$4","prevValue","store","sanitize","format$2","format","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","arguments","forEach","getOwnPropertyDescriptors","defineProperties","clamp","x","min","max","pad","String","padStart","parseNumber","v","_v","evaluate","isNaN","_unused","parseFloat","log10","getStep","number","n","abs","replace","significantDigits","floor","numberLog","step","pow","range","invertedRange","p","getUid","parens","exp","mul","div","add","sub","expr","Number","test","newExpr","match","subExpr","base","a","b","Error","pick","reduce","hasOwnProperty","omit","k","mapArrayToKeys","acc","assign","SpecialInputs","LevaInputs","_excluded$9","_excluded2$3","_excluded3","parseOptions","_input","mergedOptions","customType","Array","isArray","options","label","optional","disabled","_type","render","hint","onChange","onEditStart","onEditEnd","transient","inputWithType","commonOptions","normalizeInput","parsedInputAndOptions","parsedInput","inputType","updateInput","newValue","fromPanel","sanitizeValue","ValueError","error","previousValue","_newValue","sanitizedNewValue","e","debounce","callback","wait","immediate","timeout","callNow","next","window","clearTimeout","setTimeout","multiplyStep","event","shiftKey","altKey","_excluded$8","_excluded2$2","schema$3","o","sanitize$3","_min","Infinity","_max","suffix","f","format$1","_pad","toFixed","normalize$1","_settings","_value","isFinite","toPrecision","padStep","round","initialValue","sanitizeStep$1","steps","props$3","freeze","__proto__","sanitizeStep","_extends","InputContext","useInputContext","ThemeContext","StoreContext","PanelSettingsContext","useStoreContext","usePanelSettingsContext","LevaStoreProvider","children","createElement","Provider","getDefaultTheme","colors","elevation1","elevation2","elevation3","accent1","accent2","accent3","highlight1","highlight2","highlight3","vivid1","folderWidgetColor","folderTextColor","toolTipBackground","toolTipText","radii","xs","sm","lg","space","md","rowGap","colGap","fonts","mono","sans","fontSizes","root","toolTip","sizes","rootWidth","controlWidth","numberInputMinWidth","scrubberWidth","scrubberHeight","rowHeight","folderTitleHeight","checkboxSize","joystickWidth","joystickHeight","colorPickerWidth","colorPickerHeight","imagePreviewWidth","imagePreviewHeight","monitorHeight","titleBarHeight","shadows","level1","level2","borderWidths","focus","hover","active","folder","fontWeights","button","createStateClass","borderColor","bgColor","split","css","boxShadow","inset","backgroundColor","utils","$inputStyle","$focusStyle","$hoverStyle","$activeStyle","styled","theme","global","_global","keyframes","prefix","$flex","display","alignItems","$flexCenter","justifyContent","$reset","outline","fontSize","fontWeight","color","fontFamily","border","appearance","$draggable","touchAction","WebkitUserDrag","userSelect","$focus","$focusWithin","$hover","$active","globalStyles","cursor","mergeTheme","newTheme","defaultTheme","className","useTh","_key","charAt","StyledInput","padding","width","minWidth","flex","height","variants","levaType","textAlign","InnerLabel","position","opacity","paddingLeft","InnerNumberLabel","marginRight","textTransform","dragging","true","InputContainer","borderRadius","overflow","_excluded$7","_excluded2$1","ValueInput","innerLabel","onUpdate","onKeyDown","id","props","_id","emitOnEditStart","emitOnEditEnd","inputId","inputRef","update","currentTarget","ref","current","_onUpdate","addEventListener","removeEventListener","onKeyPress","autoComplete","spellCheck","onFocus","NumberInput","dir","preventDefault","StyledFolder","StyledWrapper","background","transition","fill","false","flat","isRoot","content","left","top","transform","compoundVariants","overflowY","maxHeight","StyledTitle","marginLeft","StyledContent","gridTemplateColumns","toggled","transitionDelay","pointerEvents","paddingRight","paddingTop","paddingBottom","marginTop","borderTop","StyledRow","zIndex","gridTemplateRows","marginBottom","StyledInputRow","columnGap","CopyLabelContainer","align","StyledOptionalToggle","margin","StyledInputWrapper$1","StyledLabel","textOverflow","whiteSpace","Overlay","bottom","right","StyledToolTipContent","maxWidth","ToolTipArrow","Portal","Root","_excluded$6","OptionalToggle","disable","Fragment","checked","htmlFor","RawLabel","title","Trigger","as","Content","side","sideOffset","Label","hideCopyButton","copyEnabled","copied","setCopied","handleClick","navigator","clipboard","writeText","JSON","stringify","onPointerLeave","onClick","xmlns","viewBox","d","fillRule","clipRule","_excluded$5","Svg","Chevron","style","_excluded$4","Row","useInputSetters","setValue","displayValue","setDisplayValue","previousValueRef","settingsRef","setFormat","updatedValue","handler","config","state","first","document","body","classList","result","last","remove","useCanvas2d","canvas","ctx","hasFired","handleCanvas","offsetWidth","devicePixelRatio","offsetHeight","getContext","useTransform","local","y","set","point","_excluded$3","getInputAtPath","_data$path","useInput","setState","getData","setValueAtPath","setSettings","setSettingsAtPath","flag","disableInputAtPath","unsub","useStore","subscribe","s","storeId","RangeGrid","hasRange","Range","Scrubber","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","RangeWrapper","Indicator","RangeSlider","onDrag","scrubberRef","rangeWidth","xy","movement","mx","memo","getBoundingClientRect","targetIsScrub","pos","DraggableLabel","innerLabelTrim","setDragging","delta","dx","_memo","slice","Number$1","NumberComponent","component","schema$2","_o","passesAnyOf","array","sanitize$2","values","map","includes","unshift","props$2","SelectContainer","NativeSelect","PresentationalSelect","Select","lastDisplayedValue","index","SelectComponent","select","schema$1","string","sanitize$1","props$1","_excluded$2","String$1","StringComponent","boolean","StyledInputWrapper","stroke","Boolean","strokeLinecap","strokeLinejoin","strokeWidth","BooleanComponent","_excluded$1","Coordinate","valueKey","valueRef","Container","gridAutoFlow","withLock","Lock","locked","Vector","lock","normalizeKeyedNumberSettings","maxStep","minPad","entries","_excluded","_excluded2","getVectorSchema","dimension","isVectorArray","every","isVectorObject","getVectorType","convert","sanitizeVector","_valueKeys","_previousValue","lockedKey","lockedCoordinate","previousLockedCoordinate","ratio","formatVector","isNumberSettings","normalizeVector","defaultKeys","mergedSettings","numberSettings","getVectorPlugin","$","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","Q","R","S","T","U","V","W","X","Y","Z","_","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","c","g","h","j","l","m","q","r","t","u","w","z"],"mappings":"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","sourcesContent":["import React, { createContext, useContext, useRef, useCallback, useState, useEffect } from 'react';\nimport * as P from '@radix-ui/react-portal';\nimport { dequal } from 'dequal/lite';\nimport shallow from 'zustand/shallow';\nimport v8n from 'v8n';\nimport { createCss } from '@stitches/react';\nimport { useDrag as useDrag$1 } from 'react-use-gesture';\nimport * as RadixTooltip from '@radix-ui/react-tooltip';\nimport { Arrow } from '@radix-ui/react-tooltip';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nlet LevaErrors;\n\n(function (LevaErrors) {\n  LevaErrors[LevaErrors[\"UNSUPPORTED_INPUT\"] = 0] = \"UNSUPPORTED_INPUT\";\n  LevaErrors[LevaErrors[\"NO_COMPONENT_FOR_TYPE\"] = 1] = \"NO_COMPONENT_FOR_TYPE\";\n  LevaErrors[LevaErrors[\"UNKNOWN_INPUT\"] = 2] = \"UNKNOWN_INPUT\";\n  LevaErrors[LevaErrors[\"DUPLICATE_KEYS\"] = 3] = \"DUPLICATE_KEYS\";\n  LevaErrors[LevaErrors[\"ALREADY_REGISTERED_TYPE\"] = 4] = \"ALREADY_REGISTERED_TYPE\";\n  LevaErrors[LevaErrors[\"CLIPBOARD_ERROR\"] = 5] = \"CLIPBOARD_ERROR\";\n  LevaErrors[LevaErrors[\"THEME_ERROR\"] = 6] = \"THEME_ERROR\";\n  LevaErrors[LevaErrors[\"PATH_DOESNT_EXIST\"] = 7] = \"PATH_DOESNT_EXIST\";\n  LevaErrors[LevaErrors[\"INPUT_TYPE_OVERRIDE\"] = 8] = \"INPUT_TYPE_OVERRIDE\";\n  LevaErrors[LevaErrors[\"EMPTY_KEY\"] = 9] = \"EMPTY_KEY\";\n})(LevaErrors || (LevaErrors = {}));\n\nconst ErrorList = {\n  [LevaErrors.UNSUPPORTED_INPUT]: (type, path) => [`An input with type \\`${type}\\` input was found at path \\`${path}\\` but it's not supported yet.`],\n  [LevaErrors.NO_COMPONENT_FOR_TYPE]: (type, path) => [`Type \\`${type}\\` found at path \\`${path}\\` can't be displayed in panel because no component supports it yet.`],\n  [LevaErrors.UNKNOWN_INPUT]: (path, value) => [`input at path \\`${path}\\` is not recognized.`, value],\n  [LevaErrors.DUPLICATE_KEYS]: (key, path, prevPath) => [`Key \\`${key}\\` of path \\`${path}\\` already exists at path \\`${prevPath}\\`. Even nested keys need to be unique. Rename one of the keys.`],\n  [LevaErrors.ALREADY_REGISTERED_TYPE]: type => [`Type ${type} has already been registered. You can't register a component with the same type.`],\n  [LevaErrors.CLIPBOARD_ERROR]: value => [`Error copying the value`, value],\n  [LevaErrors.THEME_ERROR]: (category, key) => [`Error accessing the theme \\`${category}.${key}\\` value.`],\n  [LevaErrors.PATH_DOESNT_EXIST]: path => [`Error getting the value at path \\`${path}\\`. There is probably an error in your \\`render\\` function.`],\n  [LevaErrors.PATH_DOESNT_EXIST]: path => [`Error accessing the value at path \\`${path}\\``],\n  [LevaErrors.INPUT_TYPE_OVERRIDE]: (path, type, wrongType) => [`Input at path \\`${path}\\` already exists with type: \\`${type}\\`. Its type cannot be overridden with type \\`${wrongType}\\`.`],\n  [LevaErrors.EMPTY_KEY]: () => ['Keys can not be empty, if you want to hide a label use whitespace.']\n};\n\nfunction _log(fn, errorType, ...args) {\n  const [message, ...rest] = ErrorList[errorType](...args);\n  console[fn]('LEVA: ' + message, ...rest);\n}\n\nconst warn = _log.bind(null, 'warn');\nconst log = _log.bind(null, 'log');\n\nconst _excluded$a = [\"value\"],\n      _excluded2$4 = [\"schema\"],\n      _excluded3$1 = [\"value\"];\nconst Schemas = [];\nconst Plugins = {};\nfunction getValueType(_ref) {\n  let {\n    value\n  } = _ref,\n      settings = _objectWithoutProperties(_ref, _excluded$a);\n\n  for (let checker of Schemas) {\n    const type = checker(value, settings);\n    if (type) return type;\n  }\n\n  return undefined;\n}\nfunction register(type, _ref2) {\n  let {\n    schema\n  } = _ref2,\n      plugin = _objectWithoutProperties(_ref2, _excluded2$4);\n\n  if (type in Plugins) {\n    warn(LevaErrors.ALREADY_REGISTERED_TYPE, type);\n    return;\n  }\n\n  Schemas.push((value, settings) => schema(value, settings) && type);\n  Plugins[type] = plugin;\n}\n\nconst getUniqueType = () => '__CUSTOM__PLUGIN__' + Math.random().toString(36).substr(2, 9);\n\nfunction createInternalPlugin(plugin) {\n  return plugin;\n}\nfunction createPlugin(plugin) {\n  const type = getUniqueType();\n  Plugins[type] = plugin;\n  return input => {\n    return {\n      type,\n      __customInput: input\n    };\n  };\n}\nfunction normalize$2(type, input, path, data) {\n  const {\n    normalize: _normalize\n  } = Plugins[type];\n  if (_normalize) return _normalize(input, path, data);\n  if (typeof input !== 'object' || !('value' in input)) return {\n    value: input\n  };\n\n  const {\n    value\n  } = input,\n        settings = _objectWithoutProperties(input, _excluded3$1);\n\n  return {\n    value,\n    settings\n  };\n}\nfunction sanitize$4(type, value, settings, prevValue, path, store) {\n  const {\n    sanitize\n  } = Plugins[type];\n  if (sanitize) return sanitize(value, settings, prevValue, path, store);\n  return value;\n}\nfunction format$2(type, value, settings) {\n  const {\n    format\n  } = Plugins[type];\n  if (format) return format(value, settings);\n  return value;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nconst clamp = (x, min, max) => x > max ? max : x < min ? min : x;\nconst pad = (x, pad) => String(x).padStart(pad, '0');\nconst parseNumber = v => {\n  if (v === '' || typeof v === 'number') return v;\n\n  try {\n    const _v = evaluate(v);\n\n    if (!isNaN(_v)) return _v;\n  } catch (_unused) {}\n\n  return parseFloat(v);\n};\nconst log10 = Math.log(10);\nfunction getStep(number) {\n  let n = Math.abs(+String(number).replace('.', ''));\n  if (n === 0) return 0.01;\n\n  while (n !== 0 && n % 10 === 0) n /= 10;\n\n  const significantDigits = Math.floor(Math.log(n) / log10) + 1;\n  const numberLog = Math.floor(Math.log10(Math.abs(number)));\n  const step = Math.pow(10, numberLog - significantDigits);\n  return Math.max(step, 0.001);\n}\nconst range = (v, min, max) => {\n  if (max === min) return 0;\n  return (v - min) / (max - min);\n};\nconst invertedRange = (p, min, max) => p * (max - min) + min;\nconst getUid = () => '_' + Math.random().toString(36).substr(2, 9);\nconst parens = /\\(([0-9+\\-*/^ .]+)\\)/;\nconst exp = /(\\d+(?:\\.\\d+)?) ?\\^ ?(\\d+(?:\\.\\d+)?)/;\nconst mul = /(\\d+(?:\\.\\d+)?) ?\\* ?(\\d+(?:\\.\\d+)?)/;\nconst div = /(\\d+(?:\\.\\d+)?) ?\\/ ?(\\d+(?:\\.\\d+)?)/;\nconst add = /(\\d+(?:\\.\\d+)?) ?\\+ ?(\\d+(?:\\.\\d+)?)/;\nconst sub = /(\\d+(?:\\.\\d+)?) ?- ?(\\d+(?:\\.\\d+)?)/;\nfunction evaluate(expr) {\n  if (isNaN(Number(expr))) {\n    if (parens.test(expr)) {\n      const newExpr = expr.replace(parens, (match, subExpr) => String(evaluate(subExpr)));\n      return evaluate(newExpr);\n    } else if (exp.test(expr)) {\n      const newExpr = expr.replace(exp, (match, base, pow) => String(Math.pow(Number(base), Number(pow))));\n      return evaluate(newExpr);\n    } else if (mul.test(expr)) {\n      const newExpr = expr.replace(mul, (match, a, b) => String(Number(a) * Number(b)));\n      return evaluate(newExpr);\n    } else if (div.test(expr)) {\n      const newExpr = expr.replace(div, (match, a, b) => {\n        if (b != 0) return String(Number(a) / Number(b));else throw new Error('Division by zero');\n      });\n      return evaluate(newExpr);\n    } else if (add.test(expr)) {\n      const newExpr = expr.replace(add, (match, a, b) => String(Number(a) + Number(b)));\n      return evaluate(newExpr);\n    } else if (sub.test(expr)) {\n      const newExpr = expr.replace(sub, (match, a, b) => String(Number(a) - Number(b)));\n      return evaluate(newExpr);\n    } else {\n      return Number(expr);\n    }\n  }\n\n  return Number(expr);\n}\n\nfunction pick(object, keys) {\n  return keys.reduce((obj, key) => {\n    if (!!object && object.hasOwnProperty(key)) {\n      obj[key] = object[key];\n    }\n\n    return obj;\n  }, {});\n}\nfunction omit(object, keys) {\n  const obj = _objectSpread2({}, object);\n\n  keys.forEach(k => k in object && delete obj[k]);\n  return obj;\n}\nfunction mapArrayToKeys(value, keys) {\n  return value.reduce((acc, v, i) => Object.assign(acc, {\n    [keys[i]]: v\n  }), {});\n}\n\nlet SpecialInputs;\n\n(function (SpecialInputs) {\n  SpecialInputs[\"BUTTON\"] = \"BUTTON\";\n  SpecialInputs[\"BUTTON_GROUP\"] = \"BUTTON_GROUP\";\n  SpecialInputs[\"MONITOR\"] = \"MONITOR\";\n  SpecialInputs[\"FOLDER\"] = \"FOLDER\";\n})(SpecialInputs || (SpecialInputs = {}));\n\nlet LevaInputs;\n\n(function (LevaInputs) {\n  LevaInputs[\"SELECT\"] = \"SELECT\";\n  LevaInputs[\"IMAGE\"] = \"IMAGE\";\n  LevaInputs[\"NUMBER\"] = \"NUMBER\";\n  LevaInputs[\"COLOR\"] = \"COLOR\";\n  LevaInputs[\"STRING\"] = \"STRING\";\n  LevaInputs[\"BOOLEAN\"] = \"BOOLEAN\";\n  LevaInputs[\"INTERVAL\"] = \"INTERVAL\";\n  LevaInputs[\"VECTOR3D\"] = \"VECTOR3D\";\n  LevaInputs[\"VECTOR2D\"] = \"VECTOR2D\";\n})(LevaInputs || (LevaInputs = {}));\n\nconst _excluded$9 = [\"type\", \"__customInput\"],\n      _excluded2$3 = [\"render\", \"label\", \"optional\", \"disabled\", \"hint\", \"onChange\", \"onEditStart\", \"onEditEnd\", \"transient\"],\n      _excluded3 = [\"type\"];\nfunction parseOptions(_input, key, mergedOptions = {}, customType) {\n  if (typeof _input !== 'object' || Array.isArray(_input)) {\n    return {\n      type: customType,\n      input: _input,\n      options: _objectSpread2({\n        key,\n        label: key,\n        optional: false,\n        disabled: false\n      }, mergedOptions)\n    };\n  }\n\n  if ('__customInput' in _input) {\n    const {\n      type: _type,\n      __customInput\n    } = _input,\n          options = _objectWithoutProperties(_input, _excluded$9);\n\n    return parseOptions(__customInput, key, options, _type);\n  }\n\n  const {\n    render,\n    label,\n    optional,\n    disabled,\n    hint,\n    onChange,\n    onEditStart,\n    onEditEnd,\n    transient\n  } = _input,\n        inputWithType = _objectWithoutProperties(_input, _excluded2$3);\n\n  const commonOptions = _objectSpread2({\n    render,\n    key,\n    label: label !== null && label !== void 0 ? label : key,\n    hint,\n    transient: transient !== null && transient !== void 0 ? transient : !!onChange,\n    onEditStart,\n    onEditEnd\n  }, mergedOptions);\n\n  let {\n    type\n  } = inputWithType,\n      input = _objectWithoutProperties(inputWithType, _excluded3);\n\n  type = customType !== null && customType !== void 0 ? customType : type;\n\n  if (type in SpecialInputs) {\n    return {\n      type,\n      input,\n      options: commonOptions\n    };\n  }\n\n  return {\n    type,\n    input,\n    options: _objectSpread2(_objectSpread2({}, commonOptions), {}, {\n      onChange,\n      optional: optional !== null && optional !== void 0 ? optional : false,\n      disabled: disabled !== null && disabled !== void 0 ? disabled : false\n    })\n  };\n}\nfunction normalizeInput(_input, key, path, data) {\n  const parsedInputAndOptions = parseOptions(_input, key);\n  const {\n    type,\n    input: parsedInput,\n    options\n  } = parsedInputAndOptions;\n\n  if (type) {\n    if (type in SpecialInputs) return parsedInputAndOptions;\n    return {\n      type,\n      input: normalize$2(type, parsedInput, path, data),\n      options\n    };\n  }\n\n  let inputType = getValueType(parsedInput);\n  if (inputType) return {\n    type: inputType,\n    input: normalize$2(inputType, parsedInput, path, data),\n    options\n  };\n  inputType = getValueType({\n    value: parsedInput\n  });\n  if (inputType) return {\n    type: inputType,\n    input: normalize$2(inputType, {\n      value: parsedInput\n    }, path, data),\n    options\n  };\n  return false;\n}\nfunction updateInput(input, newValue, path, store, fromPanel) {\n  const {\n    value,\n    type,\n    settings\n  } = input;\n  input.value = sanitizeValue({\n    type,\n    value,\n    settings\n  }, newValue, path, store);\n  input.fromPanel = fromPanel;\n}\n\nconst ValueError = function ValueError(message, value, error) {\n  this.type = 'LEVA_ERROR';\n  this.message = 'LEVA: ' + message;\n  this.previousValue = value;\n  this.error = error;\n};\n\nfunction sanitizeValue({\n  type,\n  value,\n  settings\n}, newValue, path, store) {\n  const _newValue = type !== 'SELECT' && typeof newValue === 'function' ? newValue(value) : newValue;\n\n  let sanitizedNewValue;\n\n  try {\n    sanitizedNewValue = sanitize$4(type, _newValue, settings, value, path, store);\n  } catch (e) {\n    throw new ValueError(`The value \\`${newValue}\\` did not result in a correct value.`, value, e);\n  }\n\n  if (dequal(sanitizedNewValue, value)) {\n    throw new ValueError(`The value \\`${newValue}\\` did not result in a value update, which remained the same: \\`${value}\\`.\n        You can ignore this warning if this is the intended behavior.`, value);\n  }\n\n  return sanitizedNewValue;\n}\n\nconst debounce = (callback, wait, immediate = false) => {\n  let timeout = 0;\n  return function () {\n    const args = arguments;\n    const callNow = immediate && !timeout;\n\n    const next = () => callback.apply(this, args);\n\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(next, wait);\n    if (callNow) next();\n  };\n};\n\nconst multiplyStep = event => event.shiftKey ? 5 : event.altKey ? 1 / 5 : 1;\n\nconst _excluded$8 = [\"value\"],\n      _excluded2$2 = [\"min\", \"max\"];\nconst schema$3 = o => typeof o === 'number' || typeof o === 'string' && !isNaN(parseFloat(o));\nconst sanitize$3 = (v, {\n  min: _min = -Infinity,\n  max: _max = Infinity,\n  suffix\n}) => {\n  const _v = parseFloat(v);\n\n  if (v === '' || isNaN(_v)) throw Error('Invalid number');\n  const f = clamp(_v, _min, _max);\n  return suffix ? f + suffix : f;\n};\nconst format$1 = (v, {\n  pad: _pad = 0,\n  suffix\n}) => {\n  const f = parseFloat(v).toFixed(_pad);\n  return suffix ? f + suffix : f;\n};\nconst normalize$1 = _ref => {\n  let {\n    value\n  } = _ref,\n      settings = _objectWithoutProperties(_ref, _excluded$8);\n\n  const {\n    min = -Infinity,\n    max = Infinity\n  } = settings,\n        _settings = _objectWithoutProperties(settings, _excluded2$2);\n\n  const _value = clamp(parseFloat(value), min, max);\n\n  let suffix;\n\n  if (!Number.isFinite(value)) {\n    const match = String(value).match(/[A-Z]+/i);\n    if (match) suffix = match[0];\n  }\n\n  let step = settings.step;\n\n  if (!step) {\n    if (Number.isFinite(min)) {\n      if (Number.isFinite(max)) step = +(Math.abs(max - min) / 100).toPrecision(1);else step = +(Math.abs(_value - min) / 100).toPrecision(1);\n    } else if (Number.isFinite(max)) step = +(Math.abs(max - _value) / 100).toPrecision(1);\n  }\n\n  const padStep = step ? getStep(step) * 10 : getStep(_value);\n  step = step || padStep / 10;\n  const pad = Math.round(clamp(Math.log10(1 / padStep), 0, 2));\n  return {\n    value: suffix ? _value + suffix : _value,\n    settings: _objectSpread2({\n      initialValue: _value,\n      step,\n      pad,\n      min,\n      max,\n      suffix\n    }, _settings)\n  };\n};\nconst sanitizeStep$1 = (v, {\n  step,\n  initialValue\n}) => {\n  const steps = Math.round((v - initialValue) / step);\n  return initialValue + steps * step;\n};\n\nvar props$3 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$3,\n  sanitize: sanitize$3,\n  format: format$1,\n  normalize: normalize$1,\n  sanitizeStep: sanitizeStep$1\n});\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nconst InputContext = createContext({});\nfunction useInputContext() {\n  return useContext(InputContext);\n}\nconst ThemeContext = createContext(null);\nconst StoreContext = createContext(null);\nconst PanelSettingsContext = createContext(null);\nfunction useStoreContext() {\n  return useContext(StoreContext);\n}\nfunction usePanelSettingsContext() {\n  return useContext(PanelSettingsContext);\n}\nfunction LevaStoreProvider({\n  children,\n  store\n}) {\n  return React.createElement(StoreContext.Provider, {\n    value: store\n  }, children);\n}\n\nconst getDefaultTheme = () => ({\n  colors: {\n    elevation1: '#292d39',\n    elevation2: '#181c20',\n    elevation3: '#373c4b',\n    accent1: '#0066dc',\n    accent2: '#007bff',\n    accent3: '#3c93ff',\n    highlight1: '#535760',\n    highlight2: '#8c92a4',\n    highlight3: '#fefefe',\n    vivid1: '#ffcc00',\n    folderWidgetColor: '$highlight2',\n    folderTextColor: '$highlight3',\n    toolTipBackground: '$highlight3',\n    toolTipText: '$elevation2'\n  },\n  radii: {\n    xs: '2px',\n    sm: '3px',\n    lg: '10px'\n  },\n  space: {\n    xs: '3px',\n    sm: '6px',\n    md: '10px',\n    rowGap: '7px',\n    colGap: '7px'\n  },\n  fonts: {\n    mono: `ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace`,\n    sans: `system-ui, sans-serif`\n  },\n  fontSizes: {\n    root: '11px',\n    toolTip: '$root'\n  },\n  sizes: {\n    rootWidth: '280px',\n    controlWidth: '160px',\n    numberInputMinWidth: '38px',\n    scrubberWidth: '8px',\n    scrubberHeight: '16px',\n    rowHeight: '24px',\n    folderTitleHeight: '20px',\n    checkboxSize: '16px',\n    joystickWidth: '100px',\n    joystickHeight: '100px',\n    colorPickerWidth: '$controlWidth',\n    colorPickerHeight: '100px',\n    imagePreviewWidth: '$controlWidth',\n    imagePreviewHeight: '100px',\n    monitorHeight: '60px',\n    titleBarHeight: '39px'\n  },\n  shadows: {\n    level1: '0 0 9px 0 #00000088',\n    level2: '0 4px 14px #00000033'\n  },\n  borderWidths: {\n    root: '0px',\n    input: '1px',\n    focus: '1px',\n    hover: '1px',\n    active: '1px',\n    folder: '1px'\n  },\n  fontWeights: {\n    label: 'normal',\n    folder: 'normal',\n    button: 'normal'\n  }\n});\n\nfunction createStateClass(value, options) {\n  const [borderColor, bgColor] = value.split(' ');\n  const css = {};\n\n  if (borderColor !== 'none') {\n    css.boxShadow = `${options.inset ? 'inset ' : ''}0 0 0 $borderWidths${[options.key]} $colors${borderColor !== 'default' && borderColor || options.borderColor}`;\n  }\n\n  if (bgColor) {\n    css.backgroundColor = bgColor;\n  }\n\n  return css;\n}\n\nconst utils = {\n  $inputStyle: () => value => createStateClass(value, {\n    key: '$input',\n    borderColor: '$highlight1',\n    inset: true\n  }),\n  $focusStyle: () => value => createStateClass(value, {\n    key: '$focus',\n    borderColor: '$accent2'\n  }),\n  $hoverStyle: () => value => createStateClass(value, {\n    key: '$hover',\n    borderColor: '$accent1',\n    inset: true\n  }),\n  $activeStyle: () => value => createStateClass(value, {\n    key: '$active',\n    borderColor: '$accent1',\n    inset: true\n  })\n};\nconst {\n  styled,\n  css,\n  theme,\n  global: _global,\n  keyframes\n} = createCss({\n  prefix: 'leva',\n  theme: getDefaultTheme(),\n  utils: _objectSpread2(_objectSpread2({}, utils), {}, {\n    $flex: () => () => ({\n      display: 'flex',\n      alignItems: 'center'\n    }),\n    $flexCenter: () => () => ({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }),\n    $reset: () => () => ({\n      outline: 'none',\n      fontSize: 'inherit',\n      fontWeight: 'inherit',\n      color: 'inherit',\n      fontFamily: 'inherit',\n      border: 'none',\n      backgroundColor: 'transparent',\n      appearance: 'none'\n    }),\n    $draggable: () => () => ({\n      touchAction: 'none',\n      WebkitUserDrag: 'none',\n      userSelect: 'none'\n    }),\n    $focus: () => value => ({\n      '&:focus': utils.$focusStyle()(value)\n    }),\n    $focusWithin: () => value => ({\n      '&:focus-within': utils.$focusStyle()(value)\n    }),\n    $hover: () => value => ({\n      '&:hover': utils.$hoverStyle()(value)\n    }),\n    $active: () => value => ({\n      '&:active': utils.$activeStyle()(value)\n    })\n  })\n});\n\nconst globalStyles = _global({\n  '.panel__dragged': {\n    WebkitUserDrag: 'none',\n    userSelect: 'none',\n    input: {\n      userSelect: 'none'\n    },\n    '*': {\n      cursor: 'ew-resize !important'\n    }\n  }\n});\n\nglobalStyles();\n\nfunction mergeTheme(newTheme) {\n  const defaultTheme = getDefaultTheme();\n  if (!newTheme) return {\n    theme: defaultTheme,\n    className: ''\n  };\n  Object.keys(newTheme).forEach(key => {\n    Object.assign(defaultTheme[key], newTheme[key]);\n  });\n  const className = theme(newTheme);\n  return {\n    theme: defaultTheme,\n    className\n  };\n}\nfunction useTh(category, key) {\n  const {\n    theme\n  } = useContext(ThemeContext);\n\n  if (!(category in theme) || !(key in theme[category])) {\n    warn(LevaErrors.THEME_ERROR, category, key);\n    return '';\n  }\n\n  let _key = key;\n\n  while (true) {\n    let value = theme[category][_key];\n    if (typeof value === 'string' && value.charAt(0) === '$') _key = value.substr(1);else return value;\n  }\n}\n\nconst StyledInput = styled('input', {\n  $reset: '',\n  padding: '0 $sm',\n  width: 0,\n  minWidth: 0,\n  flex: 1,\n  height: '100%',\n  variants: {\n    levaType: {\n      number: {\n        textAlign: 'right'\n      }\n    }\n  }\n});\nconst InnerLabel = styled('div', {\n  $draggable: '',\n  height: '100%',\n  $flexCenter: '',\n  position: 'relative',\n  padding: '0 $xs',\n  fontSize: '0.8em',\n  opacity: 0.8,\n  cursor: 'default',\n  [`& + ${StyledInput}`]: {\n    paddingLeft: 0\n  }\n});\nconst InnerNumberLabel = styled(InnerLabel, {\n  cursor: 'ew-resize',\n  marginRight: '-$xs',\n  textTransform: 'uppercase',\n  opacity: 0.3,\n  '&:hover': {\n    opacity: 1\n  },\n  variants: {\n    dragging: {\n      true: {\n        backgroundColor: '$accent2',\n        opacity: 1\n      }\n    }\n  }\n});\nconst InputContainer = styled('div', {\n  $flex: '',\n  position: 'relative',\n  borderRadius: '$sm',\n  overflow: 'hidden',\n  color: 'inherit',\n  height: '$rowHeight',\n  backgroundColor: '$elevation3',\n  $inputStyle: '$elevation1',\n  $hover: '',\n  $focusWithin: ''\n});\n\nconst _excluded$7 = [\"innerLabel\", \"value\", \"onUpdate\", \"onChange\", \"onKeyDown\", \"type\", \"id\"],\n      _excluded2$1 = [\"onUpdate\"];\nfunction ValueInput(_ref) {\n  let {\n    innerLabel,\n    value,\n    onUpdate,\n    onChange,\n    onKeyDown,\n    type,\n    id\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$7);\n\n  const {\n    id: _id,\n    emitOnEditStart,\n    emitOnEditEnd\n  } = useInputContext();\n  const inputId = id || _id;\n  const inputRef = useRef(null);\n  const update = useCallback(fn => event => {\n    const _value = event.currentTarget.value;\n    fn(_value);\n  }, []);\n  React.useEffect(() => {\n    const ref = inputRef.current;\n\n    const _onUpdate = update(value => {\n      onUpdate(value);\n      emitOnEditEnd();\n    });\n\n    ref === null || ref === void 0 ? void 0 : ref.addEventListener('blur', _onUpdate);\n    return () => ref === null || ref === void 0 ? void 0 : ref.removeEventListener('blur', _onUpdate);\n  }, [update, onUpdate, emitOnEditEnd]);\n  const onKeyPress = useCallback(event => {\n    if (event.key === 'Enter') {\n      update(onUpdate)(event);\n    }\n  }, [update, onUpdate]);\n  return React.createElement(InputContainer, null, innerLabel && typeof innerLabel === 'string' ? React.createElement(InnerLabel, null, innerLabel) : innerLabel, React.createElement(StyledInput, _extends({\n    levaType: type,\n    ref: inputRef,\n    id: inputId,\n    type: \"text\",\n    autoComplete: \"off\",\n    spellCheck: \"false\",\n    value: value,\n    onChange: update(onChange),\n    onFocus: () => emitOnEditStart(),\n    onKeyPress: onKeyPress,\n    onKeyDown: onKeyDown\n  }, props)));\n}\nfunction NumberInput(_ref2) {\n  let {\n    onUpdate\n  } = _ref2,\n      props = _objectWithoutProperties(_ref2, _excluded2$1);\n\n  const _onUpdate = useCallback(v => onUpdate(parseNumber(v)), [onUpdate]);\n\n  const onKeyDown = useCallback(event => {\n    const dir = event.key === 'ArrowUp' ? 1 : event.key === 'ArrowDown' ? -1 : 0;\n\n    if (dir) {\n      event.preventDefault();\n      const step = event.altKey ? 0.1 : event.shiftKey ? 10 : 1;\n      onUpdate(v => parseFloat(v) + dir * step);\n    }\n  }, [onUpdate]);\n  return React.createElement(ValueInput, _extends({}, props, {\n    onUpdate: _onUpdate,\n    onKeyDown: onKeyDown,\n    type: \"number\"\n  }));\n}\n\nconst StyledFolder = styled('div', {});\nconst StyledWrapper = styled('div', {\n  position: 'relative',\n  background: '$elevation2',\n  transition: 'height 300ms ease',\n  variants: {\n    fill: {\n      true: {},\n      false: {}\n    },\n    flat: {\n      false: {},\n      true: {}\n    },\n    isRoot: {\n      true: {},\n      false: {\n        paddingLeft: '$md',\n        '&::after': {\n          content: '\"\"',\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          width: '$borderWidths$folder',\n          height: '100%',\n          backgroundColor: '$folderWidgetColor',\n          opacity: 0.4,\n          transform: 'translateX(-50%)'\n        }\n      }\n    }\n  },\n  compoundVariants: [{\n    isRoot: true,\n    fill: false,\n    css: {\n      overflowY: 'auto',\n      maxHeight: 'calc(100vh - 20px - $$titleBarHeight)'\n    }\n  }, {\n    isRoot: true,\n    flat: false,\n    css: {\n      borderRadius: '$lg'\n    }\n  }]\n});\nconst StyledTitle = styled('div', {\n  $flex: '',\n  color: '$folderTextColor',\n  userSelect: 'none',\n  cursor: 'pointer',\n  height: '$folderTitleHeight',\n  fontWeight: '$folder',\n  '> svg': {\n    marginLeft: -4,\n    marginRight: 4,\n    cursor: 'pointer',\n    fill: '$folderWidgetColor',\n    opacity: 0.6\n  },\n  '&:hover > svg': {\n    fill: '$folderWidgetColor'\n  },\n  [`&:hover + ${StyledWrapper}::after`]: {\n    opacity: 0.6\n  },\n  [`${StyledFolder}:hover > & + ${StyledWrapper}::after`]: {\n    opacity: 0.6\n  },\n  [`${StyledFolder}:hover > & > svg`]: {\n    opacity: 1\n  }\n});\nconst StyledContent = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '100%',\n  rowGap: '$rowGap',\n  transition: 'opacity 250ms ease',\n  variants: {\n    toggled: {\n      true: {\n        opacity: 1,\n        transitionDelay: '250ms'\n      },\n      false: {\n        opacity: 0,\n        transitionDelay: '0ms',\n        pointerEvents: 'none'\n      }\n    },\n    isRoot: {\n      true: {\n        '& > div': {\n          paddingLeft: '$md',\n          paddingRight: '$md'\n        },\n        '& > div:first-of-type': {\n          paddingTop: '$sm'\n        },\n        '& > div:last-of-type': {\n          paddingBottom: '$sm'\n        },\n        [`> ${StyledFolder}:not(:first-of-type)`]: {\n          paddingTop: '$sm',\n          marginTop: '$md',\n          borderTop: '$borderWidths$folder solid $colors$elevation1'\n        }\n      }\n    }\n  }\n});\n\nconst StyledRow = styled('div', {\n  position: 'relative',\n  zIndex: 100,\n  display: 'grid',\n  rowGap: '$rowGap',\n  gridTemplateRows: 'minmax($sizes$rowHeight, max-content)',\n  alignItems: 'center',\n  color: '$highlight2',\n  [`${StyledContent} > &`]: {\n    '&:first-of-type': {\n      marginTop: '$rowGap'\n    },\n    '&:last-of-type': {\n      marginBottom: '$rowGap'\n    }\n  },\n  '&:hover,&:focus-within': {\n    color: '$highlight3'\n  }\n});\nconst StyledInputRow = styled(StyledRow, {\n  gridTemplateColumns: 'auto $sizes$controlWidth',\n  columnGap: '$colGap'\n});\nconst CopyLabelContainer = styled('div', {\n  $flex: '',\n  height: '100%',\n  position: 'relative',\n  overflow: 'hidden',\n  '& > div': {\n    marginLeft: '$colGap',\n    padding: '0 $xs',\n    opacity: 0.4\n  },\n  '& > div:hover': {\n    opacity: 0.8\n  },\n  '& > div > svg': {\n    display: 'none',\n    cursor: 'pointer',\n    width: 13,\n    minWidth: 13,\n    height: 13,\n    backgroundColor: '$elevation2'\n  },\n  '&:hover > div > svg': {\n    display: 'block'\n  },\n  variants: {\n    align: {\n      top: {\n        height: '100%',\n        alignItems: 'flex-start',\n        paddingTop: '$sm'\n      }\n    }\n  }\n});\nconst StyledOptionalToggle = styled('input', {\n  $reset: '',\n  height: 0,\n  width: 0,\n  opacity: 0,\n  margin: 0,\n  '& + label': {\n    position: 'relative',\n    $flexCenter: '',\n    height: '100%',\n    userSelect: 'none',\n    cursor: 'pointer',\n    paddingLeft: 2,\n    paddingRight: '$sm',\n    pointerEvents: 'auto'\n  },\n  '& + label:after': {\n    content: '\"\"',\n    width: 6,\n    height: 6,\n    backgroundColor: '$elevation3',\n    borderRadius: '50%',\n    $activeStyle: ''\n  },\n  '&:focus + label:after': {\n    $focusStyle: ''\n  },\n  '& + label:active:after': {\n    backgroundColor: '$accent1',\n    $focusStyle: ''\n  },\n  '&:checked + label:after': {\n    backgroundColor: '$accent1'\n  }\n});\nconst StyledInputWrapper$1 = styled('div', {\n  opacity: 1,\n  variants: {\n    disabled: {\n      true: {\n        opacity: 0.6,\n        pointerEvents: 'none'\n      }\n    }\n  }\n});\nconst StyledLabel = styled('label', {\n  fontWeight: '$label',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n  '& > svg': {\n    display: 'block'\n  }\n});\nconst Overlay = styled('div', {\n  position: 'fixed',\n  top: 0,\n  bottom: 0,\n  right: 0,\n  left: 0,\n  zIndex: 1000,\n  userSelect: 'none'\n});\nconst StyledToolTipContent = styled('div', {\n  background: '$toolTipBackground',\n  fontFamily: '$sans',\n  fontSize: '$toolTip',\n  padding: '$xs $sm',\n  color: '$toolTipText',\n  borderRadius: '$xs',\n  boxShadow: '$level2',\n  maxWidth: 260\n});\nconst ToolTipArrow = styled(Arrow, {\n  fill: '$toolTipBackground'\n});\n\nfunction Portal({\n  children\n}) {\n  const {\n    className\n  } = useContext(ThemeContext);\n  return React.createElement(P.Root, {\n    className: className\n  }, children);\n}\n\nconst _excluded$6 = [\"align\"];\n\nfunction OptionalToggle() {\n  const {\n    id,\n    disable,\n    disabled\n  } = useInputContext();\n  return React.createElement(React.Fragment, null, React.createElement(StyledOptionalToggle, {\n    id: id + '__disable',\n    type: \"checkbox\",\n    checked: !disabled,\n    onChange: () => disable(!disabled)\n  }), React.createElement(\"label\", {\n    htmlFor: id + '__disable'\n  }));\n}\n\nfunction RawLabel(props) {\n  const {\n    id,\n    optional,\n    hint\n  } = useInputContext();\n  const htmlFor = props.htmlFor || (id ? {\n    htmlFor: id\n  } : null);\n  const title = !hint && typeof props.children === 'string' ? {\n    title: props.children\n  } : null;\n  return React.createElement(React.Fragment, null, optional && React.createElement(OptionalToggle, null), hint !== undefined ? React.createElement(RadixTooltip.Root, null, React.createElement(RadixTooltip.Trigger, _extends({\n    as: StyledLabel\n  }, htmlFor, props)), React.createElement(RadixTooltip.Content, {\n    side: \"top\",\n    sideOffset: 2\n  }, React.createElement(StyledToolTipContent, null, hint, React.createElement(ToolTipArrow, null)))) : React.createElement(StyledLabel, _extends({}, htmlFor, title, props)));\n}\n\nfunction Label(_ref) {\n  let {\n    align\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$6);\n\n  const {\n    value,\n    label,\n    key\n  } = useInputContext();\n  const {\n    hideCopyButton\n  } = usePanelSettingsContext();\n  const copyEnabled = !hideCopyButton && key !== undefined;\n  const [copied, setCopied] = useState(false);\n\n  const handleClick = async () => {\n    try {\n      await navigator.clipboard.writeText(JSON.stringify({\n        [key]: value !== null && value !== void 0 ? value : ''\n      }));\n      setCopied(true);\n    } catch (_unused) {\n      warn(LevaErrors.CLIPBOARD_ERROR, {\n        [key]: value\n      });\n    }\n  };\n\n  return React.createElement(CopyLabelContainer, {\n    align: align,\n    onPointerLeave: () => setCopied(false)\n  }, React.createElement(RawLabel, props), copyEnabled && React.createElement(\"div\", {\n    title: `Click to copy ${typeof label === 'string' ? label : key} value`\n  }, !copied ? React.createElement(\"svg\", {\n    onClick: handleClick,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    d: \"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\"\n  }), React.createElement(\"path\", {\n    d: \"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\"\n  })) : React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    d: \"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\"\n  }), React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n    clipRule: \"evenodd\"\n  }))));\n}\n\nconst _excluded$5 = [\"toggled\"];\nconst Svg = styled('svg', {\n  fill: 'currentColor',\n  transition: 'transform 350ms ease, fill 250ms ease'\n});\nfunction Chevron(_ref) {\n  let {\n    toggled\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$5);\n\n  return React.createElement(Svg, _extends({\n    width: \"9\",\n    height: \"5\",\n    viewBox: \"0 0 9 5\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    style: {\n      transform: `rotate(${toggled ? 0 : -90}deg)`\n    }\n  }, props), React.createElement(\"path\", {\n    d: \"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z\"\n  }));\n}\n\nconst _excluded$4 = [\"input\"];\nfunction Row(_ref) {\n  let {\n    input\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$4);\n\n  if (input) return React.createElement(StyledInputRow, props);\n  return React.createElement(StyledRow, props);\n}\n\nfunction useInputSetters({\n  value,\n  type,\n  settings,\n  setValue\n}) {\n  const [displayValue, setDisplayValue] = useState(format$2(type, value, settings));\n  const previousValueRef = useRef(value);\n  const settingsRef = useRef(settings);\n  settingsRef.current = settings;\n  const setFormat = useCallback(v => setDisplayValue(format$2(type, v, settingsRef.current)), [type]);\n  const onUpdate = useCallback(updatedValue => {\n    try {\n      setValue(updatedValue);\n    } catch (error) {\n      const {\n        type,\n        previousValue\n      } = error;\n      if (type !== 'LEVA_ERROR') throw error;\n      setFormat(previousValue);\n    }\n  }, [setFormat, setValue]);\n  useEffect(() => {\n    if (!dequal(value, previousValueRef.current)) {\n      setFormat(value);\n    }\n\n    previousValueRef.current = value;\n  }, [value, setFormat]);\n  return {\n    displayValue,\n    onChange: setDisplayValue,\n    onUpdate\n  };\n}\n\nfunction useDrag(handler, config) {\n  const {\n    emitOnEditStart,\n    emitOnEditEnd\n  } = useInputContext();\n  return useDrag$1(state => {\n    if (state.first) {\n      document.body.classList.add('panel__dragged');\n      emitOnEditStart();\n    }\n\n    const result = handler(state);\n\n    if (state.last) {\n      document.body.classList.remove('panel__dragged');\n      emitOnEditEnd();\n    }\n\n    return result;\n  }, config);\n}\n\nfunction useCanvas2d(fn) {\n  const canvas = useRef(null);\n  const ctx = useRef(null);\n  const hasFired = useRef(false);\n  useEffect(() => {\n    const handleCanvas = debounce(() => {\n      canvas.current.width = canvas.current.offsetWidth * window.devicePixelRatio;\n      canvas.current.height = canvas.current.offsetHeight * window.devicePixelRatio;\n      fn(canvas.current, ctx.current);\n    }, 250);\n    window.addEventListener('resize', handleCanvas);\n\n    if (!hasFired.current) {\n      handleCanvas();\n      hasFired.current = true;\n    }\n\n    return () => window.removeEventListener('resize', handleCanvas);\n  }, [fn]);\n  useEffect(() => {\n    ctx.current = canvas.current.getContext('2d');\n  }, []);\n  return [canvas, ctx];\n}\n\nfunction useTransform() {\n  const ref = useRef(null);\n  const local = useRef({\n    x: 0,\n    y: 0\n  });\n  const set = useCallback(point => {\n    Object.assign(local.current, point);\n    if (ref.current) ref.current.style.transform = `translate3d(${local.current.x}px, ${local.current.y}px, 0)`;\n  }, []);\n  return [ref, set];\n}\n\nconst _excluded$3 = [\"__refCount\"];\n\nconst getInputAtPath = (data, path) => {\n  if (!data[path]) return null;\n\n  const _data$path = data[path],\n        input = _objectWithoutProperties(_data$path, _excluded$3);\n\n  return input;\n};\n\nfunction useInput(path) {\n  const store = useStoreContext();\n  const [state, setState] = useState(getInputAtPath(store.getData(), path));\n  const set = useCallback(value => store.setValueAtPath(path, value, true), [path, store]);\n  const setSettings = useCallback(settings => store.setSettingsAtPath(path, settings), [path, store]);\n  const disable = useCallback(flag => store.disableInputAtPath(path, flag), [path, store]);\n  const emitOnEditStart = useCallback(() => store.emitOnEditStart(path), [path, store]);\n  const emitOnEditEnd = useCallback(() => store.emitOnEditEnd(path), [path, store]);\n  useEffect(() => {\n    setState(getInputAtPath(store.getData(), path));\n    const unsub = store.useStore.subscribe(setState, s => getInputAtPath(s.data, path), shallow);\n    return () => unsub();\n  }, [store, path]);\n  return [state, {\n    set,\n    setSettings,\n    disable,\n    storeId: store.storeId,\n    emitOnEditStart,\n    emitOnEditEnd\n  }];\n}\n\nconst RangeGrid = styled('div', {\n  variants: {\n    hasRange: {\n      true: {\n        position: 'relative',\n        display: 'grid',\n        gridTemplateColumns: 'auto $sizes$numberInputMinWidth',\n        columnGap: '$colGap',\n        alignItems: 'center'\n      }\n    }\n  }\n});\n\nconst Range = styled('div', {\n  position: 'relative',\n  width: '100%',\n  height: 2,\n  borderRadius: '$xs',\n  backgroundColor: '$elevation1'\n});\nconst Scrubber = styled('div', {\n  position: 'absolute',\n  width: '$scrubberWidth',\n  height: '$scrubberHeight',\n  borderRadius: '$xs',\n  boxShadow: '0 0 0 2px $colors$elevation2',\n  backgroundColor: '$accent2',\n  cursor: 'pointer',\n  $active: 'none $accent1',\n  $hover: 'none $accent3',\n  variants: {\n    position: {\n      left: {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0,\n        transform: 'translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))'\n      },\n      right: {\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        transform: 'translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))'\n      }\n    }\n  }\n});\nconst RangeWrapper = styled('div', {\n  position: 'relative',\n  $flex: '',\n  height: '100%',\n  cursor: 'pointer',\n  touchAction: 'none'\n});\nconst Indicator = styled('div', {\n  position: 'absolute',\n  height: '100%',\n  backgroundColor: '$accent2'\n});\n\nfunction RangeSlider({\n  value,\n  min,\n  max,\n  onDrag,\n  step,\n  initialValue\n}) {\n  const ref = useRef(null);\n  const scrubberRef = useRef(null);\n  const rangeWidth = useRef(0);\n  const scrubberWidth = useTh('sizes', 'scrubberWidth');\n  const bind = useDrag(({\n    event,\n    first,\n    xy: [x],\n    movement: [mx],\n    memo\n  }) => {\n    if (first) {\n      const {\n        width,\n        left\n      } = ref.current.getBoundingClientRect();\n      rangeWidth.current = width - parseFloat(scrubberWidth);\n      const targetIsScrub = (event === null || event === void 0 ? void 0 : event.target) === scrubberRef.current;\n      memo = targetIsScrub ? value : invertedRange((x - left) / width, min, max);\n    }\n\n    const newValue = memo + invertedRange(mx / rangeWidth.current, 0, max - min);\n    onDrag(sanitizeStep$1(newValue, {\n      step,\n      initialValue\n    }));\n    return memo;\n  });\n  const pos = range(value, min, max);\n  return React.createElement(RangeWrapper, _extends({\n    ref: ref\n  }, bind()), React.createElement(Range, null, React.createElement(Indicator, {\n    style: {\n      left: 0,\n      right: `${(1 - pos) * 100}%`\n    }\n  })), React.createElement(Scrubber, {\n    ref: scrubberRef,\n    style: {\n      left: `calc(${pos} * (100% - ${scrubberWidth}))`\n    }\n  }));\n}\n\nconst DraggableLabel = React.memo(({\n  label,\n  onUpdate,\n  step,\n  innerLabelTrim\n}) => {\n  const [dragging, setDragging] = useState(false);\n  const bind = useDrag(({\n    active,\n    delta: [dx],\n    event,\n    memo: _memo = 0\n  }) => {\n    setDragging(active);\n    _memo += dx / 2;\n\n    if (Math.abs(_memo) >= 1) {\n      onUpdate(v => parseFloat(v) + Math.floor(_memo) * step * multiplyStep(event));\n      _memo = 0;\n    }\n\n    return _memo;\n  });\n  return React.createElement(InnerNumberLabel, _extends({\n    dragging: dragging,\n    title: label.length > 1 ? label : ''\n  }, bind()), label.slice(0, innerLabelTrim));\n});\nfunction Number$1({\n  label,\n  id,\n  displayValue,\n  onUpdate,\n  onChange,\n  settings,\n  innerLabelTrim = 1\n}) {\n  const InnerLabel = innerLabelTrim > 0 && React.createElement(DraggableLabel, {\n    label: label,\n    step: settings.step,\n    onUpdate: onUpdate,\n    innerLabelTrim: innerLabelTrim\n  });\n  return React.createElement(NumberInput, {\n    id: id,\n    value: String(displayValue),\n    onUpdate: onUpdate,\n    onChange: onChange,\n    innerLabel: InnerLabel\n  });\n}\nfunction NumberComponent() {\n  const props = useInputContext();\n  const {\n    label,\n    value,\n    onUpdate,\n    settings,\n    id\n  } = props;\n  const {\n    min,\n    max\n  } = settings;\n  const hasRange = max !== Infinity && min !== -Infinity;\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(RangeGrid, {\n    hasRange: hasRange\n  }, hasRange && React.createElement(RangeSlider, _extends({\n    value: parseFloat(value),\n    onDrag: onUpdate\n  }, settings)), React.createElement(Number$1, _extends({}, props, {\n    id: id,\n    label: \"value\",\n    innerLabelTrim: hasRange ? 0 : 1\n  }))));\n}\n\nconst {\n  sanitizeStep\n} = props$3,\n      rest = _objectWithoutProperties(props$3, [\"sanitizeStep\"]);\nvar number = createInternalPlugin(_objectSpread2({\n  component: NumberComponent\n}, rest));\n\nconst schema$2 = (_o, s) => v8n().schema({\n  options: v8n().passesAnyOf(v8n().object(), v8n().array())\n}).test(s);\nconst sanitize$2 = (value, {\n  values\n}) => {\n  if (values.indexOf(value) < 0) throw Error(`Selected value doesn't match Select options`);\n  return value;\n};\nconst format = (value, {\n  values\n}) => {\n  return values.indexOf(value);\n};\nconst normalize = input => {\n  let {\n    value,\n    options\n  } = input;\n  let keys;\n  let values;\n\n  if (Array.isArray(options)) {\n    values = options;\n    keys = options.map(o => String(o));\n  } else {\n    values = Object.values(options);\n    keys = Object.keys(options);\n  }\n\n  if (!('value' in input)) value = values[0];else if (!values.includes(value)) {\n    keys.unshift(String(value));\n    values.unshift(value);\n  }\n  if (!Object.values(options).includes(value)) options[String(value)] = value;\n  return {\n    value,\n    settings: {\n      keys,\n      values\n    }\n  };\n};\n\nvar props$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$2,\n  sanitize: sanitize$2,\n  format: format,\n  normalize: normalize\n});\n\nconst SelectContainer = styled('div', {\n  $flexCenter: '',\n  position: 'relative',\n  '> svg': {\n    pointerEvents: 'none',\n    position: 'absolute',\n    right: '$md'\n  }\n});\nconst NativeSelect = styled('select', {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%',\n  opacity: 0\n});\nconst PresentationalSelect = styled('div', {\n  display: 'flex',\n  alignItems: 'center',\n  width: '100%',\n  height: '$rowHeight',\n  backgroundColor: '$elevation3',\n  borderRadius: '$sm',\n  padding: '0 $sm',\n  cursor: 'pointer',\n  [`${NativeSelect}:focus + &`]: {\n    $focusStyle: ''\n  },\n  [`${NativeSelect}:hover + &`]: {\n    $hoverStyle: ''\n  }\n});\n\nfunction Select({\n  displayValue,\n  value,\n  onUpdate,\n  id,\n  settings\n}) {\n  const {\n    keys,\n    values\n  } = settings;\n  const lastDisplayedValue = useRef();\n\n  if (value === values[displayValue]) {\n    lastDisplayedValue.current = keys[displayValue];\n  }\n\n  return React.createElement(SelectContainer, null, React.createElement(NativeSelect, {\n    id: id,\n    value: displayValue,\n    onChange: e => onUpdate(values[Number(e.currentTarget.value)])\n  }, keys.map((key, index) => React.createElement(\"option\", {\n    key: key,\n    value: index\n  }, key))), React.createElement(PresentationalSelect, null, lastDisplayedValue.current), React.createElement(Chevron, {\n    toggled: true\n  }));\n}\nfunction SelectComponent() {\n  const {\n    label,\n    value,\n    displayValue,\n    onUpdate,\n    id,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Select, {\n    id: id,\n    value: value,\n    displayValue: displayValue,\n    onUpdate: onUpdate,\n    settings: settings\n  }));\n}\n\nvar select = createInternalPlugin(_objectSpread2({\n  component: SelectComponent\n}, props$2));\n\nconst schema$1 = o => v8n().string().test(o);\nconst sanitize$1 = v => {\n  if (typeof v !== 'string') throw Error(`Invalid string`);\n  return v;\n};\n\nvar props$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$1,\n  sanitize: sanitize$1\n});\n\nconst _excluded$2 = [\"displayValue\", \"onUpdate\", \"onChange\"];\nfunction String$1(_ref) {\n  let {\n    displayValue,\n    onUpdate,\n    onChange\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$2);\n\n  return React.createElement(ValueInput, _extends({\n    value: displayValue,\n    onUpdate: onUpdate,\n    onChange: onChange\n  }, props));\n}\nfunction StringComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    onChange\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(String$1, {\n    displayValue: displayValue,\n    onUpdate: onUpdate,\n    onChange: onChange\n  }));\n}\n\nvar string = createInternalPlugin(_objectSpread2({\n  component: StringComponent\n}, props$1));\n\nconst schema = o => v8n().boolean().test(o);\nconst sanitize = v => {\n  if (typeof v !== 'boolean') throw Error('Invalid boolean');\n  return v;\n};\n\nvar props = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema,\n  sanitize: sanitize\n});\n\nconst StyledInputWrapper = styled('div', {\n  position: 'relative',\n  $flex: '',\n  height: '$rowHeight',\n  input: {\n    $reset: '',\n    height: 0,\n    width: 0,\n    opacity: 0,\n    margin: 0\n  },\n  label: {\n    position: 'relative',\n    $flexCenter: '',\n    userSelect: 'none',\n    cursor: 'pointer',\n    height: '$checkboxSize',\n    width: '$checkboxSize',\n    backgroundColor: '$elevation3',\n    borderRadius: '$sm',\n    $hover: ''\n  },\n  'input:focus + label': {\n    $focusStyle: ''\n  },\n  'input:focus:checked + label, input:checked + label:hover': {\n    $hoverStyle: '$accent3'\n  },\n  'input + label:active': {\n    backgroundColor: '$accent1'\n  },\n  'input:checked + label:active': {\n    backgroundColor: '$accent1'\n  },\n  'label > svg': {\n    display: 'none',\n    width: '90%',\n    height: '90%',\n    stroke: '$highlight3'\n  },\n  'input:checked + label': {\n    backgroundColor: '$accent2'\n  },\n  'input:checked + label > svg': {\n    display: 'block'\n  }\n});\n\nfunction Boolean({\n  value,\n  onUpdate,\n  id\n}) {\n  return React.createElement(StyledInputWrapper, null, React.createElement(\"input\", {\n    id: id,\n    type: \"checkbox\",\n    checked: value,\n    onChange: e => onUpdate(e.currentTarget.checked)\n  }), React.createElement(\"label\", {\n    htmlFor: id\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\"\n  }, React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M5 13l4 4L19 7\"\n  }))));\n}\nfunction BooleanComponent() {\n  const {\n    label,\n    value,\n    onUpdate,\n    id\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Boolean, {\n    value: value,\n    onUpdate: onUpdate,\n    id: id\n  }));\n}\n\nvar boolean = createInternalPlugin(_objectSpread2({\n  component: BooleanComponent\n}, props));\n\nconst _excluded$1 = [\"locked\"];\n\nfunction Coordinate({\n  value,\n  id,\n  valueKey,\n  settings,\n  onUpdate,\n  innerLabelTrim\n}) {\n  const valueRef = useRef(value[valueKey]);\n  valueRef.current = value[valueKey];\n  const setValue = useCallback(newValue => onUpdate({\n    [valueKey]: sanitizeValue({\n      type: 'NUMBER',\n      value: valueRef.current,\n      settings\n    }, newValue)\n  }), [onUpdate, settings, valueKey]);\n  const number = useInputSetters({\n    type: 'NUMBER',\n    value: value[valueKey],\n    settings,\n    setValue\n  });\n  return React.createElement(Number$1, {\n    id: id,\n    label: valueKey,\n    value: value[valueKey],\n    displayValue: number.displayValue,\n    onUpdate: number.onUpdate,\n    onChange: number.onChange,\n    settings: settings,\n    innerLabelTrim: innerLabelTrim\n  });\n}\n\nconst Container = styled('div', {\n  display: 'grid',\n  columnGap: '$colGap',\n  gridAutoFlow: 'column dense',\n  alignItems: 'center',\n  variants: {\n    withLock: {\n      true: {\n        gridTemplateColumns: '10px auto',\n        '> svg': {\n          cursor: 'pointer'\n        }\n      }\n    }\n  }\n});\n\nfunction Lock(_ref) {\n  let {\n    locked\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded$1);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"10\",\n    height: \"10\",\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), locked ? React.createElement(\"path\", {\n    d: \"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\"\n  }) : React.createElement(\"path\", {\n    d: \"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nfunction Vector({\n  value,\n  onUpdate,\n  settings,\n  innerLabelTrim\n}) {\n  const {\n    id,\n    setSettings\n  } = useInputContext();\n  const {\n    lock,\n    locked\n  } = settings;\n  return React.createElement(Container, {\n    withLock: lock\n  }, lock && React.createElement(Lock, {\n    locked: locked,\n    onClick: () => setSettings({\n      locked: !locked\n    })\n  }), Object.keys(value).map((key, i) => React.createElement(Coordinate, {\n    id: i === 0 ? id : `${id}.${key}`,\n    key: key,\n    valueKey: key,\n    value: value,\n    settings: settings[key],\n    onUpdate: onUpdate,\n    innerLabelTrim: innerLabelTrim\n  })));\n}\n\nconst normalizeKeyedNumberSettings = (value, settings) => {\n  const _settings = {};\n  let maxStep = 0;\n  let minPad = Infinity;\n  Object.entries(value).forEach(([key, v]) => {\n    _settings[key] = normalize$1(_objectSpread2({\n      value: v\n    }, settings[key])).settings;\n    maxStep = Math.max(maxStep, _settings[key].step);\n    minPad = Math.min(minPad, _settings[key].pad);\n  });\n\n  for (let key in _settings) {\n    const {\n      step,\n      min,\n      max\n    } = settings[key] || {};\n\n    if (!isFinite(step) && (!isFinite(min) || !isFinite(max))) {\n      _settings[key].step = maxStep;\n      _settings[key].pad = minPad;\n    }\n  }\n\n  return _settings;\n};\n\nconst _excluded = [\"lock\"],\n      _excluded2 = [\"value\"];\nfunction getVectorSchema(dimension) {\n  const isVectorArray = v8n().array().length(dimension).every.number();\n\n  const isVectorObject = o => {\n    if (!o || typeof o !== 'object') return false;\n    const values = Object.values(o);\n    return values.length === dimension && values.every(v => isFinite(v));\n  };\n\n  return o => {\n    return isVectorArray.test(o) || isVectorObject(o);\n  };\n}\nfunction getVectorType(value) {\n  return Array.isArray(value) ? 'array' : 'object';\n}\n\nfunction convert(value, format, keys) {\n  if (getVectorType(value) === format) return value;\n  return format === 'array' ? Object.values(value) : mapArrayToKeys(value, keys);\n}\n\nconst sanitizeVector = (value, settings, previousValue) => {\n  const _value = convert(value, 'object', settings.keys);\n\n  for (let key in _value) _value[key] = sanitize$3(_value[key], settings[key]);\n\n  const _valueKeys = Object.keys(_value);\n\n  let newValue = {};\n  if (_valueKeys.length === settings.keys.length) newValue = _value;else {\n    const _previousValue = convert(previousValue, 'object', settings.keys);\n\n    if (_valueKeys.length === 1 && settings.locked) {\n      const lockedKey = _valueKeys[0];\n      const lockedCoordinate = _value[lockedKey];\n      const previousLockedCoordinate = _previousValue[lockedKey];\n      const ratio = previousLockedCoordinate !== 0 ? lockedCoordinate / previousLockedCoordinate : 1;\n\n      for (let key in _previousValue) {\n        if (key === lockedKey) newValue[lockedKey] = lockedCoordinate;else newValue[key] = _previousValue[key] * ratio;\n      }\n    } else {\n      newValue = _objectSpread2(_objectSpread2({}, _previousValue), _value);\n    }\n  }\n  return convert(newValue, settings.format, settings.keys);\n};\nconst formatVector = (value, settings) => convert(value, 'object', settings.keys);\n\nconst isNumberSettings = o => !!o && ('step' in o || 'min' in o || 'max' in o);\n\nfunction normalizeVector(value, settings, defaultKeys = []) {\n  const {\n    lock = false\n  } = settings,\n        _settings = _objectWithoutProperties(settings, _excluded);\n\n  const format = Array.isArray(value) ? 'array' : 'object';\n  const keys = format === 'object' ? Object.keys(value) : defaultKeys;\n\n  const _value = convert(value, 'object', keys);\n\n  const mergedSettings = isNumberSettings(_settings) ? keys.reduce((acc, k) => Object.assign(acc, {\n    [k]: _settings\n  }), {}) : _settings;\n  const numberSettings = normalizeKeyedNumberSettings(_value, mergedSettings);\n  return {\n    value: format === 'array' ? value : _value,\n    settings: _objectSpread2(_objectSpread2({}, numberSettings), {}, {\n      format,\n      keys,\n      lock,\n      locked: false\n    })\n  };\n}\nfunction getVectorPlugin(defaultKeys) {\n  return {\n    schema: getVectorSchema(defaultKeys.length),\n    normalize: _ref => {\n      let {\n        value\n      } = _ref,\n          settings = _objectWithoutProperties(_ref, _excluded2);\n\n      return normalizeVector(value, settings, defaultKeys);\n    },\n    format: (value, settings) => formatVector(value, settings),\n    sanitize: (value, settings, prevValue) => sanitizeVector(value, settings, prevValue)\n  };\n}\n\nexport { register as $, StyledTitle as A, useInputSetters as B, Chevron as C, Plugins as D, InputContext as E, StyledInputWrapper$1 as F, useCanvas2d as G, useInput as H, Indicator as I, log as J, StyledWrapper as K, Label as L, StyledContent as M, useStoreContext as N, Overlay as O, Portal as P, StyledFolder as Q, Row as R, Scrubber as S, StyledInputRow as T, debounce as U, ValueInput as V, PanelSettingsContext as W, StoreContext as X, mergeTheme as Y, ThemeContext as Z, _objectSpread2 as _, Vector as a, LevaInputs as a0, select as a1, number as a2, string as a3, boolean as a4, LevaStoreProvider as a5, String$1 as a6, Number$1 as a7, Boolean as a8, Select as a9, InnerLabel as aa, pad as ab, evaluate as ac, createPlugin as ad, keyframes as ae, getVectorSchema as af, getVectorType as ag, sanitizeVector as ah, formatVector as ai, normalizeVector as aj, useTransform as b, createInternalPlugin as c, useTh as d, useDrag as e, _extends as f, getVectorPlugin as g, clamp as h, _objectWithoutProperties as i, invertedRange as j, sanitizeStep as k, RangeWrapper as l, multiplyStep as m, normalizeKeyedNumberSettings as n, omit as o, pick as p, Range as q, range as r, styled as s, getUid as t, useInputContext as u, SpecialInputs as v, warn as w, LevaErrors as x, updateInput as y, normalizeInput as z };\n"]},"metadata":{},"sourceType":"module"}